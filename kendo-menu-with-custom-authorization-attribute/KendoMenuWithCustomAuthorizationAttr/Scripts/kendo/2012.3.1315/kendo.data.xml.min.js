/*
* Kendo UI Complete v2012.3.1315 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
(function(e,t){var r=window.kendo,n=e.isArray,a=e.isPlainObject,i=e.map,o=e.each,f=e.extend,l=r.getter,d=r.Class,u=d.extend({init:function(e){var t=this,l=e.total,d=e.model,u=e.parse,s=e.data;if(d){if(a(d)){d.fields&&o(d.fields,function(e,r){r=a(r)&&r.field?f(r,{field:t.getter(r.field)}):{field:t.getter(r)},d.fields[e]=r});var p=d.id;if(p){var c={};c[t.xpathToMember(p,!0)]={field:t.getter(p)},d.fields=f(c,d.fields),d.id=t.xpathToMember(p)}d=r.data.Model.define(d)}t.model=d}if(l&&("string"==typeof l?(l=t.getter(l),t.total=function(e){return parseInt(l(e),10)}):"function"==typeof l&&(t.total=l)),s&&("string"==typeof s?(s=t.xpathToMember(s),t.data=function(e){var r,a=t.evaluate(e,s);return a=n(a)?a:[a],t.model&&d.fields?(r=new t.model,i(a,function(e){if(e){var t,n={};for(t in d.fields)n[t]=r._parse(t,d.fields[t].field(e));return n}})):a}):"function"==typeof s&&(t.data=s)),"function"==typeof u){var h=t.parse;t.parse=function(e){var r=u.call(t,e);return h.call(t,r)}}},total:function(e){return this.data(e).length},errors:function(e){return e?e.errors:null},parseDOM:function(e){var r,a,i,o,f,l,d,u={},s=e.attributes,p=s.length;for(d=0;p>d;d++)l=s[d],u["@"+l.nodeName]=l.nodeValue;for(a=e.firstChild;a;a=a.nextSibling)i=a.nodeType,3===i||4===i?u["#text"]=a.nodeValue:1===i&&(r=this.parseDOM(a),o=a.nodeName,f=u[o],n(f)?f.push(r):f=f!==t?[f,r]:r,u[o]=f);return u},evaluate:function(e,t){for(var r,a,i,o,f,l=t.split(".");r=l.shift();)if(e=e[r],n(e)){for(a=[],t=l.join("."),f=0,i=e.length;i>f;f++)o=this.evaluate(e[f],t),o=n(o)?o:[o],a.push.apply(a,o);return a}return e},parse:function(t){var r,n,a={};return r=t.documentElement||e.parseXML(t).documentElement,n=this.parseDOM(r),a[r.nodeName]=n,a},xpathToMember:function(e,t){return e?(e=e.replace(/^\//,"").replace(/\//g,"."),e.indexOf("@")>=0?e.replace(/\.?(@.*)/,t?"$1":'["$1"]'):e.indexOf("text()")>=0?e.replace(/(\.?text\(\))/,t?"#text":'["#text"]'):e):""},getter:function(e){return l(this.xpathToMember(e),!0)}});e.extend(!0,r.data,{XmlDataReader:u,readers:{xml:u}})})(window.kendo.jQuery);