/*
* Kendo UI Complete v2012.3.1315 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
(function(e,t){function n(e,t){function n(e,t,n){var i,o=typeof t;return i=o===jn?fo[t](e):"function"===o?t(e,n):fo.max(e)}function i(e,t,i){var o,a,r,s=C(i.type),l=s.length,c=e.length,h=[],u=[];for(o=0;l>o;o++){for(r=s[o],a=0;c>a;a++)u.push(e[a][r]);h.push(n(u,t[r],i)),u=[]}return h}var o,a=t.aggregate;return o="object"==typeof a?i(e,a,t):n(e,a,t)}function i(e){return a(e).min}function o(e){return a(e).max}function a(e){var n,i,o=bn,a=An,r=e.length;for(n=0;r>n;n++)i=e[n],null!==i&&isFinite(i)&&(o=Y.min(o,i),a=Y.max(a,i));return{min:o===bn?t:o,max:a===An?t:a}}function r(e,t,n,i){var o,a,r=(i.x-n.x)*(e.y-n.y)-(i.y-n.y)*(e.x-n.x),s=(i.y-n.y)*(t.x-e.x)-(i.x-n.x)*(t.y-e.y);return 0!==s&&(a=r/s,o=new ut(e.x+a*(t.x-e.x),e.y+a*(t.y-e.y))),o}function s(e,t){var n,i,o=e.series,a=o.length,r=e.seriesDefaults,s=Z({},e.seriesDefaults),c=t?Z({},t.seriesDefaults):{},h=Z({},c);for(l(s),l(h),n=0;a>n;n++)i=o[n].type||e.seriesDefaults.type,o[n]=Z({},h,c[i],{tooltip:e.tooltip},s,r[i],o[n])}function l(e){delete e.bar,delete e.column,delete e.line,delete e.verticalLine,delete e.pie,delete e.area,delete e.verticalArea,delete e.scatter,delete e.scatterLine,delete e.bubble,delete e.candlestick,delete e.ohlc}function c(e){var t,n=e.series,i=n.length,o=e.seriesColors||[];for(t=0;i>t;t++)n[t].color=n[t].color||o[t%o.length]}function h(e){var t;M([Nt,ri,ui,di],function(){t=this+"Axes",e[t]&&(e[this+"Axis"]=e[t],delete e[t])})}function u(t,n){var i=(n||{}).axisDefaults||{};M([Nt,ri,ui,di],function(){var n=this+"Axis",o=[].concat(t[n]),a=t.axisDefaults||{};o=e.map(o,function(e){var t=(e||{}).color;return Z({},i,i[n],a,a[n],{line:{color:t},labels:{color:t},title:{color:t}},e)}),t[n]=o.length>1?o:o[0]})}function d(e,t,n){e[t]=(e[t]||0)+n}function p(e){var t,n=e.length,i=0;for(t=0;n>t;t++)i=Y.max(i,e[t].data.length);return i}function g(e){return e*e}function f(e,t){if(null===t)return null;var n=f.cache[e]=f.cache[e]||et(e,!0);return n(t)}function x(e){var t,n,i;if(e instanceof Date)t=e;else if(typeof e===jn)n=Jt.exec(e),t=new Date(n?parseInt(n[1],10):e);else if(e)if(e.length)for(t=[],i=0;e.length>i;i++)t.push(x(e[i]));else t=new Date(e);return t}function v(e){return N(e)?F(e,v):e?x(e).getTime():t}function m(e,t,n,i){if(!e)return e;if(e=x(e),n===pi)return new Date(e.getFullYear()+t,0,1);if(n===_n)return new Date(e.getFullYear(),e.getMonth()+t,1);if(n===ci){var o=y(e,i);return m(o,7*t,Zt)}return n===Zt?new Date(e.getFullYear(),e.getMonth(),e.getDate()+t):n===pn?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+t):n===kn?new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()+t):e}function y(e,t){var n=e.getDay(),i=0;for(t=t||0;n!==t;)0===n?n=6:n--,i++;return k(e,-i*Kn)}function w(e,t,n){return e=x(e),m(e,0,t,n)}function b(e,t,n){return e=x(e),w(e,t,n).getTime()===e.getTime()?e:m(e,1,t,n)}function A(e,t){var n=e.getTime()-t,i=e.getTimezoneOffset()-t.getTimezoneOffset();return n-i*Gn}function k(e,t){var n=e.getTimezoneOffset(),i=new Date(e.getTime()+t),o=i.getTimezoneOffset()-n;return new Date(i.getTime()+o*Gn)}function _(e,t,n){var i;return i=n===pi?t.getFullYear()-e.getFullYear():n===_n?12*_(e,t,pi)+t.getMonth()-e.getMonth():n===Zt?Y.floor(A(t,e)/Kn):Y.floor((t-e)/Zn[n])}function C(e){var t=[ri];return At(e,[Mt,Dn])?t=["open","high","low","close"]:At(e,yi)&&(t=[ui,di],e===Ht&&t.push("size")),t}function P(e,t,n){var i,o,a,r,s=e.data[t],l={},c=C(e.type),h={value:s};return wt(s)?N(s)?(i=s.slice(c.length),r=S(s,c),l=S(i,n)):"object"==typeof s&&(o=I(e,c),a=I(e,n),r=T(s,c,o),l=T(s,n,a)):r=T({},c),wt(r)&&(1===c.length&&(r=r[c[0]]),h.value=r),h.fields=l,h}function S(e,t){var n,i,o={};if(t)for(i=Y.min(t.length,e.length),n=0;i>n;n++)o[t[n]]=e[n];return o}function T(e,t,n){var i,o,a,r,s={};if(t)for(o=t.length,n=n||t,i=0;o>i;i++)a=t[i],r=n[i],s[a]=f(r,e);return s}function I(e,t){var n,i,o,a,r;if(t)for(i=t.length,a=[],n=0;i>n;n++)o=t[n],r=o===ri?"field":o+"Field",a.push(e[r]||o);return a}function D(e){return 1===e.length?e[0]:e}function V(e,t,n){return Y.max(Y.min(e,n),t)}function B(e){var t,n,i=new at,o=e.length;if(o>0)for(t=0;o>t;t++)n=e[t],0===t?i=n.box.clone():i.wrap(n.box);return i}function R(e,t){return e&&t?e.toLowerCase()===t.toLowerCase():e===t}function E(e,t){return e&&t?v(e)===v(t):e===t}function L(e){for(var t,n=e.length;n--;)if(t=e[n],wt(t)&&null!==t)return t}function z(e,t){null!==t&&e.push(t)}function O(e,t){for(var n,i,o=0,a=e.length-1;a>=o;)if(n=Y.floor((o+a)/2),i=e[n],t>i)o=n+1;else{if(!(i>t))return n;a=n-1}return t>=e[n]?n:n-1}function U(e){var t,n,i=!0,o=e.length;for(t=0;o>t;t++)if(n=e[t],"number"!=typeof n||isNaN(n)){i=!1;break}return i}function H(e){var t,n,i,o={};for(t=0;e.length>t;t++)n=e[t],i=n.options.name,i&&(o[i]=n.range());return o}var M=e.each,N=e.isArray,F=e.map,Y=Math,W=e.extend,X=e.proxy,j=document,G=window.kendo,q=G.Class,K=G.Observable,Q=G.data.DataSource,$=G.ui.Widget,J=G.template,Z=G.deepExtend,et=G.getter,tt=G.dataviz,nt=tt.Axis,it=tt.AxisLabel,ot=tt.BarAnimation,at=tt.Box2D,rt=tt.BoxElement,st=tt.ChartElement,lt=tt.Color,ct=tt.ElementAnimation,ht=tt.NumericAxis,ut=tt.Point2D,dt=tt.RootElement,pt=tt.Ring,gt=tt.Text,ft=tt.TextBox,xt=tt.Title,vt=tt.animationDecorator,mt=tt.append,yt=tt.autoFormat,wt=tt.defined,bt=tt.getSpacing,At=tt.inArray,kt=tt.interpolateValue,_t=tt.last,Ct=tt.round,Pt=tt.renderTemplate,St=tt.uniqueId,Tt=".kendoChart",It="above",Dt="area",Vt="auto",Bt="fit",Rt=tt.AXIS_LABEL_CLICK,Et="bar",Lt=.8,zt="below",Ot="#000",Ut="bottom",Ht="bubble",Mt="candlestick",Nt="category",Ft="center",Yt="change",Wt="circle",Xt="click"+Tt,jt=tt.CLIP,Gt="column",qt=tt.COORD_PRECISION,Kt="k-",Qt="dataBound",$t="date",Jt=/^\/Date\((.*?)\)\/$/,Zt="days",en=tt.DEFAULT_FONT,tn=tt.DEFAULT_HEIGHT,nn=tt.DEFAULT_PRECISION,on=tt.DEFAULT_WIDTH,an=Y.PI/180,rn="donut",sn=50,ln="drag",cn="dragEnd",hn="dragStart",un="fadeIn",dn="glass",pn="hours",gn=tt.INITIAL_ANIMATION_DURATION,fn="insideBase",xn="insideEnd",vn="interpolate",mn="left",yn="line",wn=8,bn=Number.MAX_VALUE,An=-Number.MAX_VALUE,kn="minutes",_n="months",Cn="mousemove.tracking",Pn="mouseover"+Tt,Sn=150,Tn="DOMMouseScroll"+Tt+" mousewheel"+Tt,In="MSPointerDown"+Tt,Dn="ohlc",Vn="outsideEnd",Bn="_outline",Rn="pie",En=70,Ln="plotAreaClick",zn="right",On="roundedBevel",Un="roundedGlass",Hn="scatter",Mn="scatterLine",Nn="selectStart",Fn="select",Yn="selectEnd",Wn="seriesClick",Xn="seriesHover",jn="string",Gn=6e4,qn=60*Gn,Kn=24*qn,Qn=7*Kn,$n=31*Kn,Jn=365*Kn,Zn={years:Jn,months:$n,weeks:Qn,days:Kn,hours:qn,minutes:Gn},ei="top",ti=150,ni=5,ii=100,oi="touchstart"+Tt,ai="triangle",ri="value",si="verticalArea",li="verticalLine",ci="weeks",hi="#fff",ui="x",di="y",pi="years",gi="zero",fi="zoomStart",xi="zoom",vi="zoomEnd",mi=[Et,Gt,yn,li,Dt,si,Mt,Dn],yi=[Hn,Mn,Ht],wi=[kn,pn,Zt,ci,_n,pi],bi={minutes:"HH:mm",hours:"HH:mm",days:"M/d",weeks:"M/d",months:"MMM 'yy",years:"yyyy"},Ai=$.extend({init:function(e,t){var n,i,o,a,r=this,s=tt.ui.themes||{};$.fn.init.call(r,e),n=Z({},r.options,t),r.element.addClass("k-chart").css("position","relative"),r._originalOptions=Z({},n),a=n.theme,o=s[a]||s[a.toLowerCase()],i=a&&o?o.chart:{},h(n),r._applyDefaults(n,i),r.options=Z({},i,n),c(r.options),r.bind(r.events,r.options),r.wrapper=r.element,r._initDataSource(t),G.notify(r,tt.ui)},_initDataSource:function(e){var t=this,n=(e||{}).dataSource;t._dataChangeHandler=X(t._onDataChanged,t),t.dataSource=Q.create(n).bind(Yt,t._dataChangeHandler),t._redraw(),t._attachEvents(),n&&t.options.autoBind&&t.dataSource.fetch()},setDataSource:function(e){var t=this;t.dataSource.unbind(Yt,t._dataChangeHandler),t.dataSource=e,e.bind(Yt,t._dataChangeHandler),t.options.autoBind&&e.fetch()},events:[Qt,Wn,Xn,Rt,Ln,hn,ln,cn,fi,xi,vi,Nn,Fn,Yn],items:function(){return e()},options:{name:"Chart",theme:"default",chartArea:{},legend:{visible:!0,labels:{}},categoryAxis:{},autoBind:!0,seriesDefaults:{type:Gt,data:[],groupNameTemplate:"#= group.value + (kendo.dataviz.defined(series.name) ? ': ' + series.name : '') #",labels:{}},series:[],tooltip:{visible:!1},transitions:!0,valueAxis:{},plotArea:{},title:{},xAxis:{},yAxis:{}},refresh:function(){var e=this;e._applyDefaults(e.options),delete e._sourceSeries,e._onDataChanged()},redraw:function(e){var t,n,i=this;i._applyDefaults(i.options),e?(n=i._model._plotArea,t=n.findPane(e),n.redraw(t)):i._redraw()},_redraw:function(){var e,t=this,n=t.options,i=t.element,o=t._model=t._getModel(),a=tt.ui.defaultView();t._plotArea=o._plotArea,a&&(e=t._view=a.fromModel(o),t._viewElement=e.renderTo(i[0]),t._tooltip=new tt.Tooltip(i,n.tooltip),t._highlight=new po(e,t._viewElement))},svg:function(){var e=this._getModel(),t=tt.SVGView.fromModel(e);return t.render()},_applyDefaults:function(e,t){u(e,t),s(e,t)},_getModel:function(){var e,t=this,n=t.options,i=t.element,o=new dt(Z({width:i.width()||on,height:i.height()||tn,transitions:n.transitions},n.chartArea));return xt.buildTitle(n.title,o),e=o._plotArea=t._createPlotArea(),n.legend.visible&&o.append(new _i(e.options.legend)),o.append(e),o.reflow(),o},_createPlotArea:function(){var e,t,n,i=this,o=i.options,a=o.series,r=a.length,s=[],l=[],c=[],h=[];for(e=0;r>e;e++)t=a[e],At(t.type,mi)?s.push(t):At(t.type,yi)?l.push(t):t.type===Rn?c.push(t):t.type===rn&&h.push(t);return n=c.length>0?new ao(c,o):h.length>0?new ro(h,o):l.length>0?new oo(l,o):new no(s,o)},_attachEvents:function(){var e=this,t=e.element,n=X(e._touchstart,e);t.on(Xt,X(e._click,e)),t.on(Pn,X(e._mouseover,e)),t.on(Tn,X(e._mousewheel,e)),t.on(oi,n),t.on(In,n),G.UserEvents&&(e._userEvents=new G.UserEvents(t,{global:!0,threshold:5,filter:":not(.k-selector)",multiTouch:!1,start:X(e._start,e),move:X(e._move,e),end:X(e._end,e)}))},_start:function(e){var t=this,n=t._events;wt(n[hn]||n[ln]||n[cn])&&t._startNavigation(e,hn)},_move:function(e){var t,n=this,i=n._navState,o={};if(i){e.preventDefault(),t=i.axes;for(var a=0;t.length>a;a++){var r=t[a],s=r.options.name;if(s){var l=r.options.vertical?e.y:e.x,c=l.startLocation-l.location;0!==c&&(o[r.options.name]=r.translateRange(c))}}i.axisRanges=o,n.trigger(ln,{axisRanges:o,originalEvent:e})}},_end:function(e){this._endNavigation(e,cn)},_mousewheel:function(e){var t,n,i,o,a,r,s=this,l=e.originalEvent,c=0,h=s._navState,u={};if(l.wheelDelta&&(c=-l.wheelDelta/120,c=c>0?Y.ceil(c):Y.floor(c)),l.detail&&(c=Ct(l.detail/3)),h||(t=s._startNavigation(l,fi),t||(h=s._navState)),h){for(n=h.totalDelta||c,h.totalDelta=n+c,i=s._navState.axes,o=0;i.length>o;o++)a=i[o],r=a.options.name,r&&(u[r]=a.scaleRange(n));s.trigger(xi,{delta:c,axisRanges:u,originalEvent:e}),s._mwTimeout&&clearTimeout(s._mwTimeout),s._mwTimeout=setTimeout(function(){s._endNavigation(e,vi)},Sn)}},_startNavigation:function(e,t){var n,i,o,a=this,r=a._eventCoordinates(e),s=a._model._plotArea,l=s.findPointPane(r),c=s.axes.slice(0),h=!1;if(l){for(n=0;c.length>n;n++)if(i=c[n],i.box.containsPoint(r)){h=!0;break}!h&&s.backgroundBox().containsPoint(r)&&(o=a.trigger(t,{axisRanges:H(c),originalEvent:e}),o?a._userEvents.cancel():(a._suppressHover=!0,a._unsetActivePoint(),a._navState={pane:l,axes:c}))}},_endNavigation:function(e,t){var n=this;n._navState&&(n.trigger(t,{axisRanges:n._navState.axisRanges,originalEvent:e}),n._suppressHover=!1,n._navState=null)},_getChartElement:function(t){var n,i=this,o=e(t.target).data("modelId"),a=i._model;return o&&(n=a.modelMap[o]),n&&n.aliasFor&&(n=n.aliasFor(t,i._eventCoordinates(t))),n},_eventCoordinates:function(e){var t=this,n=wt((e.x||{}).client),i=n?e.x.client:e.clientX,o=n?e.y.client:e.clientY;return t._toModelCoordinates(i,o)},_toModelCoordinates:function(t,n){var i=this.element,o=i.offset(),a=parseInt(i.css("paddingLeft"),10),r=parseInt(i.css("paddingTop"),10),s=e(window);return{x:t-o.left-a+s.scrollLeft(),y:n-o.top-r+s.scrollTop()}},_click:function(e){for(var t=this,n=t._getChartElement(e);n;)n.click&&n.click(t,e),n=n.parent},_mouseover:function(t){var n,i,o=this,a=o._tooltip,r=o._highlight;!o._suppressHover&&r&&r.overlayElement!==t.target&&(i=o._getChartElement(t),i&&i.hover&&(i.hover(o,t),o._activePoint=i,n=Z({},o.options.tooltip,i.options.tooltip),n.visible&&a.show(i),r.show(i),e(j.body).on(Cn,X(o._mouseMove,o))))},_mouseMove:function(t){var n,i,o,a=this,r=a._tooltip,s=a._highlight,l=a._eventCoordinates(t),c=a._activePoint;a._plotArea.box.containsPoint(l)?c&&c.series&&(c.series.type===yn||c.series.type===Dt)&&(i=c.parent,o=i.getNearestPoint(l.x,l.y,c.seriesIx),o&&o!=c&&(o.hover(a,t),a._activePoint=o,n=Z({},a.options.tooltip,c.options.tooltip),n.visible&&r.show(o),s.show(o))):(e(j.body).off(Cn),a._unsetActivePoint())},_unsetActivePoint:function(){var e=this,t=e._tooltip,n=e._highlight;e._activePoint=null,t&&t.hide(),n&&n.hide()},_onDataChanged:function(){var e,t,n=this,i=n.options,o=n._sourceSeries||i.series,a=o.length,r=n.dataSource.view(),s=(n.dataSource.group()||[]).length>0,l=s?r[0].items:r,h=[];for(e=0;a>e;e++)t=o[e],n.isBindable(t)?(t.autoBind!==!1&&(t.data=r),mt(h,s?n._createGroupedSeries(t,r):[t])):h.push(t);n._sourceSeries=o,i.series=h,c(n.options),n._bindCategories(l),n.trigger(Qt),n._redraw()},_bindCategories:function(e){var t,n,i=this,o=i.options,a=[].concat(o.categoryAxis);for(t=0;a.length>t;t++)n=a[t],n.autoBind!==!1&&i._bindCategoryAxis(n,e)},_bindCategoryAxis:function(e,t){var n,i,o;if(e.field)for(e.categories=[],n=0;t.length>n;n++)o=t[n],i=f(e.field,o),0===n?(e.categories=[i],e.dataItems=[o]):(e.categories.push(i),e.dataItems.push(o))},isBindable:function(e){var t,n,i=C(e.type),o=!0;for(n=0;i.length>n;n++)if(t=i[n],t===ri?t="field":t+="Field",!e[t]){o=!1;break}return o},_createGroupedSeries:function(e,n){var i,o,a,r,s=[],l=n.length;for(e.groupNameTemplate&&(i=J(e.groupNameTemplate)),a=0;l>a;a++)r=Z({},e),r.color=t,s.push(r),o=n[a],r.data=o.items,i&&(r.name=i({series:r,group:o}));return s},_touchstart:function(e){var t,n,i=this,o=i._tooltip,a=i._highlight;!i._suppressHover&&a&&a.overlayElement!==e.target&&(e.originalEvent.pointerType&&2!==e.originalEvent.pointerType||(n=i._getChartElement(e),n&&n.hover?(n.hover(i,e),i._activePoint=n,t=Z({},i.options.tooltip,n.options.tooltip),t.visible&&o.show(n),a.show(n)):i._unsetActivePoint()))},destroy:function(){var e=this,t=e.dataSource;e.element.off(Tt),t.unbind(Yt,e._dataChangeHandler),e._userEvents&&e._userEvents.destroy(),$.fn.destroy.call(e)}}),ki=st.extend({init:function(e,t){var n=this;st.fn.init.call(n,t),n.append(new ft(e,n.options))},options:{position:Vn,margin:bt(3),padding:bt(4),color:Ot,background:"",border:{width:1,color:""},aboveAxis:!0,vertical:!1,animation:{type:un,delay:gn},zIndex:1},reflow:function(e){var t=this,n=t.options,i=n.vertical,o=n.aboveAxis,a=t.children[0],r=a.box,s=a.options.padding;a.options.align=i?Ft:mn,a.options.vAlign=i?ei:Ft,n.position==xn?i?(a.options.vAlign=ei,!o&&e.height()>r.height()&&(a.options.vAlign=Ut)):a.options.align=o?zn:mn:n.position==Ft?(a.options.vAlign=Ft,a.options.align=Ft):n.position==fn?i?a.options.vAlign=o?Ut:ei:a.options.align=o?mn:zn:n.position==Vn&&(i?e=o?new at(e.x1,e.y1-r.height(),e.x2,e.y1):new at(e.x1,e.y2,e.x2,e.y2+r.height()):(a.options.align=Ft,e=o?new at(e.x2+r.width(),e.y1,e.x2,e.y2):new at(e.x1-r.width(),e.y1,e.x1,e.y2))),i?s.left=s.right=(e.width()-a.contentBox.width())/2:s.top=s.bottom=(e.height()-a.contentBox.height())/2,a.reflow(e)}}),_i=st.extend({init:function(e){var t=this;st.fn.init.call(t,e),t.createLabels()},options:{position:zn,items:[],labels:{},offsetX:0,offsetY:0,margin:bt(10),padding:bt(5),border:{color:Ot,width:0},background:"",zIndex:1},createLabels:function(){var e,t,n,i=this,o=i.options.items,a=o.length;for(n=0;a>n;n++)t=o[n].name,e=new gt(t,i.options.labels),i.append(e)},reflow:function(e){var n=this,i=n.options,o=n.children.length;return 0===o?(n.box=e.clone(),t):"custom"==i.position?(n.customLayout(e),t):(i.position==ei||i.position==Ut?n.horizontalLayout(e):n.verticalLayout(e),t)},getViewElements:function(e){var t,n,i,o,a,r,s,l=this,c=l.children,h=l.options,u=h.items,d=u.length,p=l.markerSize(),g=e.createGroup({zIndex:h.zIndex}),f=h.border||{};for(mt(g.children,st.fn.getViewElements.call(l,e)),s=0;d>s;s++)o=u[s].color,a=c[s],n=new at,r=a.box,i=i?i.wrap(r):r.clone(),n.x1=r.x1-2*p,n.x2=n.x1+p,n.y1=h.position==ei||h.position==Ut?r.y1+p/2:r.y1+(r.height()-p)/2,n.y2=n.y1+p,g.children.push(e.createRect(n,{fill:o,stroke:o}));return c.length>0&&(t=bt(h.padding),t.left+=2*p,i.pad(t),g.children.unshift(e.createRect(i,{stroke:f.width?f.color:"",strokeWidth:f.width,dashType:f.dashType,fill:h.background}))),[g]},verticalLayout:function(e){var t,n,i,o,a=this,r=a.options,s=a.children,l=s.length,c=s[0].box.clone(),h=bt(r.margin),u=2*a.markerSize();for(o=1;l>o;o++)i=a.children[o],i.box.alignTo(a.children[o-1].box,Ut),c.wrap(i.box);r.position==mn?(t=e.x1+u+h.left,n=(e.y2-c.height())/2,c.x2+=u+h.left+h.right):(t=e.x2-c.width()-h.right,n=(e.y2-c.height())/2,c.translate(t,n),c.x1-=u+h.left),a.translateChildren(t+r.offsetX,n+r.offsetY);var d=c.width();c.x1=Y.max(e.x1,c.x1),c.x2=c.x1+d,c.y1=e.y1,c.y2=e.y2,a.box=c},horizontalLayout:function(e){var t,n,i,o,a=this,r=a.options,s=a.children,l=s.length,c=s[0].box.clone(),h=3*a.markerSize(),u=bt(r.margin),d=s[0].box.width()+h,p=e.width(),g=0;for(o=1;l>o;o++)i=s[o],d+=i.box.width()+h,d>p-h?(i.box=new at(c.x1,c.y2,c.x1+i.box.width(),c.y2+i.box.height()),d=i.box.width()+h,g=i.box.y1):(i.box.alignTo(s[o-1].box,zn),i.box.y2=g+i.box.height(),i.box.y1=g,i.box.translate(h,0)),c.wrap(i.box);t=(e.width()-c.width()+h)/2,r.position===ei?(n=e.y1+u.top,c.y2=e.y1+c.height()+u.top+u.bottom,c.y1=e.y1):(n=e.y2-c.height()-u.bottom,c.y1=e.y2-c.height()-u.top-u.bottom,c.y2=e.y2),a.translateChildren(t+r.offsetX,n+r.offsetY),c.x1=e.x1,c.x2=e.x2,a.box=c},customLayout:function(e){var t,n=this,i=n.options,o=n.children,a=o.length,r=o[0].box.clone(),s=2*n.markerSize();for(t=1;a>t;t++)r=n.children[t].box,r.alignTo(n.children[t-1].box,Ut),r.wrap(r);n.translateChildren(i.offsetX+s,i.offsetY),n.box=e},markerSize:function(){var e=this,t=e.children;return t.length>0?t[0].box.height()/2:0}}),Ci=nt.extend({init:function(e){var t=this;nt.fn.init.call(t,e),e=t.options,e.categories=e.categories.slice(0)},options:{type:Nt,categories:[],vertical:!1,majorGridLines:{visible:!1,width:1,color:Ot},zIndex:1,justified:!1},range:function(){return{min:0,max:this.options.categories.length}},getTickPositions:function(e){var t,n=this,i=n.options,o=i.vertical,a=i.justified,r=n.lineBox(),s=o?r.height():r.width(),l=e-(a?1:0),c=s/l,h=o?di:ui,u=r[h+1],d=[];for(t=0;e>t;t++)d.push(Ct(u,qt)),u+=c;return a||d.push(r[h+2]),i.reverse?d.reverse():d},getMajorTickPositions:function(){var e=this;return e.getTickPositions(e.options.categories.length)},getMinorTickPositions:function(){var e=this;return e.getTickPositions(2*e.options.categories.length)},getSlot:function(e,t){var n,i,o,a=this,r=a.options,s=a.getMajorTickPositions(),l=r.reverse,c=r.justified,h=r.vertical?di:ui,u=a.lineBox(),d=u[h+(l?2:1)],p=u[h+(l?1:2)],g=u.clone(),f=Y.max(1,s.length-(c?0:1));return e=wt(e)?e:0,t=wt(t)?t:e,e=V(e,0,f),t=V(t-1,e,f),t=Y.max(e,t),n=0===e?d:s[e],i=c?n:s[t],o=t-e,(o>0||e===t)&&(i=s[t+1]||p),c&&(e===f?n=i:i=n),g[h+1]=l?i:n,g[h+2]=l?n:i,g},getCategoryIndex:function(e){var t,n,i,o,a=this,r=a.options,s=r.reverse,l=r.vertical,c=l?di:ui,h=a.lineBox(),u=h[c+1],d=h[c+2],p=e[c],g=a.getMajorTickPositions();if(u>p||p>d)return null;for(i=0;g.length>i;i++){if(t=g[i],n=g[i+1],wt(n)||(n=s?u:d),s&&(t=n,n=g[i]),r.justified&&p===n){o=Y.max(0,l?g.length-i-1:i+1);break}if(p>=t&&n>=p){o=Y.max(0,l?g.length-i-2:i);break}}return o},getCategory:function(e){var t=this.getCategoryIndex(e);return null===t?null:this.options.categories[t]},translateRange:function(e){var t=this,n=t.options,i=t.lineBox(),o=n.vertical?i.height():i.width(),a=n.categories.length,r=o/a,s=Ct(e/r,nn);return{min:s,max:a+s}},scaleRange:function(e){var t=this,n=t.options,i=n.categories.length,o=e*i;return{min:-o,max:i+o}},labelsCount:function(){return this.options.categories.length},createAxisLabel:function(e,t){var n=this,i=n.options,o=i.dataItems?i.dataItems[e]:null,a=wt(i.categories[e])?i.categories[e]:"";return new it(a,e,o,t)}}),Pi=it.extend({formatValue:function(e,t){return G.toString(e,t.format,t.culture)}}),Si=Ci.extend({init:function(e){var t,n,i=this;e=e||{},e=Z({roundToBaseUnit:!0},e,{min:x(e.min),max:x(e.max)}),e.categories&&e.categories.length>0&&(t=(e.baseUnit||"").toLowerCase(),n=t!==Bt&&!At(t,wi),n&&(e.baseUnit=i.defaultBaseUnit(e)),(t===Bt||e.baseUnitStep===Vt)&&i.autoBaseUnit(e),i.groupCategories(e)),Ci.fn.init.call(i,e)},options:{type:$t,labels:{dateFormats:bi},autoBaseUnitSteps:{minutes:[1,2,5,15,30],hours:[1,2,3],days:[1,2,3],weeks:[1,2],months:[1,2,3,6],years:[1,2,3,5,10,25,50]},maxDateGroups:10},translateRange:function(e){var t=this,n=Ci.fn.translateRange.call(t,e),i=t.options,o=i.baseUnit,a=Y.round(n.min),r=i.weekStartDay;return{min:m(i.min,a,o,r),max:m(i.max,a,o,r)}},scaleRange:function(e){for(var t,n,i=this,o=i.options,a=Y.abs(e),r=o.min,s=o.max;a--;)t=A(r,s),n=Y.round(.1*t),0>e?(r=k(r,n),s=k(s,-n)):(r=k(r,-n),s=k(s,n));return{min:r,max:s}},defaultBaseUnit:function(e){var t,n,i,o,a,r=e.categories,s=wt(r)?r.length:0,l=bn;for(t=0;s>t;t++)n=x(r[t]),n&&o&&(i=n-o,i>0&&(l=Y.min(l,i),a=l>=Jn?pi:l>=$n-3*Kn?_n:l>=Qn?ci:l>=Kn?Zt:l>=qn?pn:kn)),o=n;return a||Zt},range:function(e){e=e||this.options;var t=x(e.categories),n=e.baseUnit===Bt,i=n?wi[0]:e.baseUnit,o=v(e.min),r=v(e.max),s=a(t),l=v(s.min),c=v(s.max);return e.roundToBaseUnit?{min:m(o||l,0,i,e.weekStartDay),max:m(r||c,1,i,e.weekStartDay)}:{min:x(o||l),max:x(r||c)}},autoBaseUnit:function(e){for(var t,n,i,o=this,a=o.range(e),r=e.baseUnit===Bt,s=0,l=r?wi[s++]:e.baseUnit,c=a.max-a.min,h=c/Zn[l],u=h,d=e.maxDateGroups||o.options.maxDateGroups,p=Z({},o.options.autoBaseUnitSteps,e.autoBaseUnitSteps);h>d;)if(t=t||p[l].slice(0),i=t.shift())n=i,h=u/n;else{if(!r){h>d&&(n=Y.ceil(u/d));break}l=wi[s++]||_t(wi),u=c/Zn[l],t=null}e.baseUnitStep=n,e.baseUnit=l},getMajorTickPositions:function(){var e=this,t=e.options,n=t.categories,i=[];if(t.roundToBaseUnit||0===n.length)i=Ci.fn.getMajorTickPositions.call(e);else{var o,a,r=t.vertical,s=t.reverse,l=e.lineBox(),c=r?l.height():l.width(),h=n[0].getTime(),u=e.range(e.options),d=u.max-u.min,p=c/d,g=n.length,f=(r?-1:1)*(s?-1:1),x=1===f?1:2,v=1===f?2:1,m=l[(r?di:ui)+x],y=l[(r?di:ui)+v],w=m;for(o=0;g>o;o++)a=n[o]-h,w=m+a*p*f,i.push(Ct(w,qt));_t(i)!==y&&i.push(y)}return i},groupCategories:function(e){var t,n,i,o,a,r,s=this,l=x(e.categories),c=e.baseUnit,h=e.baseUnitStep||1,u=s.range(e),d=e.roundToBaseUnit,p=[],g=s.categoryMap=[],f=[];for(t=d?m(u.max,h-1,c,e.weekStartDay):u.max,E(u.min,u.max)&&(t=x(v(t)+1)),n=u.min;t>n;n=i){for(i=m(n,h,c,e.weekStartDay),p.push(n),o=[],a=O(l,n);l.length>a;a++)if(r=l[a],r&&r>=n)if(i>r)e.justified&&E(r,t)?f.push(a):o.push(a);else{if(d||!E(i,t))break;f.push(a)}g.push(o)}f.length&&(p.push(t),g.push(f)),e.max||0!==(_t(g)||[]).length||(g.pop(),p.pop()),e.min=p[0],e.max=d?_t(p):t,e.categories=p},createAxisLabel:function(e,t){var n=this.options,i=n.dataItems?n.dataItems[e]:null,o=n.categories[e],a=n.baseUnit,r=!0,s=t.dateFormats[a];if(n.justified){var l=w(o,a,n.weekStartDay);r=E(l,o)}return t=Z({format:s},t,{visible:r}),new Pi(o,e,i,t)}}),Ti=nt.extend({init:function(e,t,n){var i=this;n=n||{},Z(n,{min:x(n.min),max:x(n.max),axisCrossingValue:x(n.axisCrossingValues||n.axisCrossingValue)}),n=i.applyDefaults(x(e),x(t),n),nt.fn.init.call(i,n)},options:{type:$t,labels:{dateFormats:bi}},applyDefaults:function(e,n,i){var o=this,a=i.min||e,r=i.max||n,s=i.baseUnit||o.timeUnits(r-a),l=Zn[s],c=w(v(a)-1,s),h=b(v(r)+1,s),u=i.majorUnit?i.majorUnit:t,d=u||tt.ceil(tt.autoMajorUnit(c.getTime(),h.getTime()),l)/l,p=_(c,h,s),g=tt.ceil(p,d),f=g-p,x=Y.floor(f/2),y=f-x;return i.baseUnit||delete i.baseUnit,Z({baseUnit:s,min:m(c,-x,s),max:m(h,y,s),minorUnit:d/5},i,{majorUnit:d})},range:function(){var e=this.options;return{min:e.min,max:e.max}},getDivisions:function(e){var t=this.options;return Y.floor(_(t.min,t.max,t.baseUnit)/e+1)},getTickPositions:function(e){var t,n=this,i=n.options,o=i.vertical,a=i.reverse,r=n.lineBox(),s=o?r.height():r.width(),l=_(i.min,i.max,i.baseUnit),c=s/l,h=e*c,u=n.getDivisions(e),d=(o?-1:1)*(a?-1:1),p=1===d?1:2,g=r[(o?di:ui)+p],f=[];for(t=0;u>t;t++)f.push(Ct(g,qt)),g+=h*d;return f},getMajorTickPositions:function(){var e=this;return e.getTickPositions(e.options.majorUnit)},getMinorTickPositions:function(){var e=this;return e.getTickPositions(e.options.minorUnit)},getSlot:function(e,t){return ht.fn.getSlot.call(this,x(e),x(t))},getValue:function(e){var t=ht.fn.getValue.call(this,e);return null!==t?x(t):null},labelsCount:function(){return this.getDivisions(this.options.majorUnit)},createAxisLabel:function(e,t){var n=this.options,i=e*n.majorUnit,o=m(n.min,i,n.baseUnit),a=t.dateFormats[n.baseUnit];return t.format=t.format||a,new Pi(o,e,null,t)},timeUnits:function(e){var t=pn;return e>=Jn?t=pi:e>=$n?t=_n:e>=Qn?t=ci:e>=Kn&&(t=Zt),t}}),Ii=st.extend({init:function(e){var t=this;st.fn.init.call(t,e)},options:{vertical:!1,gap:0,spacing:0},reflow:function(e){var t,n,i=this,o=i.options,a=o.vertical,r=a?di:ui,s=i.children,l=o.gap,c=o.spacing,h=s.length,u=h+l+c*(h-1),d=(a?e.height():e.width())/u,p=e[r+1]+d*(l/2);for(n=0;h>n;n++)t=(s[n].box||e).clone(),t[r+1]=p,t[r+2]=p+d,s[n].reflow(t),h-1>n&&(p+=d*c),p+=d}}),Di=st.extend({init:function(e){var t=this;st.fn.init.call(t,e)},options:{vertical:!0,isReversed:!1},reflow:function(e){var t,n,i=this,o=i.options,a=o.vertical,r=a?ui:di,s=a?di:ui,l=e[s+2],c=i.children,h=i.box=new at,u=c.length;for(t=o.isReversed?a?Ut:mn:a?ei:zn,n=0;u>n;n++){var d=c[n],p=d.box.clone();p.snapTo(e,r),d.options&&(d.options.stackBase=l),0===n?h=i.box=p.clone():p.alignTo(c[n-1].box,t),d.reflow(p),h.wrap(p)}}}),Vi={click:function(t,n){var i=this;t.trigger(Wn,{value:i.value,category:i.category,series:i.series,dataItem:i.dataItem,element:e(n.target)})},hover:function(t,n){var i=this;t.trigger(Xn,{value:i.value,category:i.category,series:i.series,dataItem:i.dataItem,element:e(n.target)})}},Bi=st.extend({init:function(e,t){var n=this;st.fn.init.call(n,t),n.value=e,n.options.id=St(),n.enableDiscovery()},options:{color:hi,border:{width:1},vertical:!0,overlay:{gradient:dn},aboveAxis:!0,labels:{visible:!1},animation:{type:Et},opacity:1},render:function(){var e,t=this,n=t.value,i=t.options,o=i.labels,a=n;t._rendered||(t._rendered=!0,o.visible&&n&&(o.template?(e=J(o.template),a=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series})):o.format&&(a=yt(o.format,a)),t.append(new ki(a,Z({vertical:i.vertical,id:St()},i.labels)))))},reflow:function(e){this.render();var t=this,n=t.options,i=t.children,o=i[0];t.box=e,o&&(o.options.aboveAxis=n.aboveAxis,o.reflow(e))},getViewElements:function(e){var t=this,n=t.options,i=n.vertical,o=n.border.width>0?{stroke:t.getBorderColor(),strokeWidth:n.border.width,dashType:n.border.dashType}:{},a=t.box,r=Z({id:n.id,fill:n.color,fillOpacity:n.opacity,strokeOpacity:n.opacity,vertical:n.vertical,aboveAxis:n.aboveAxis,stackBase:n.stackBase,animation:n.animation,data:{modelId:n.modelId}},o),s=[];return a.width()>0&&a.height()>0&&(n.overlay&&(r.overlay=Z({rotation:i?0:90},n.overlay)),s.push(e.createRect(a,r))),mt(s,st.fn.getViewElements.call(t,e)),s},highlightOverlay:function(e,t){var n=this,i=n.box;return t=Z({data:{modelId:n.options.modelId}},t),e.createRect(i,t)},getBorderColor:function(){var e=this,t=e.options,n=t.color,i=t.border,o=i.color,a=i._brightness||Lt;return wt(o)||(o=new lt(n).brightness(a).toHex()),o},tooltipAnchor:function(e,t){var n,i,o=this,a=o.options,r=o.box,s=a.vertical,l=a.aboveAxis;return s?(n=r.x2+ni,i=l?r.y1:r.y2-t):a.isStacked?(n=r.x2-e,i=r.y1-t-ni):(n=r.x2+ni,i=r.y1),new ut(n,i)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}});Z(Bi.fn,Vi);var Ri=st.extend({init:function(e,t){var n=this;st.fn.init.call(n,t),n.plotArea=e,n.categoryAxis=e.seriesCategoryAxis(t.series[0]),n.valueAxisRanges={},n.points=[],n.categoryPoints=[],n.seriesPoints=[],n.render()},options:{series:[],invertAxes:!1,isStacked:!1},render:function(){var e=this;e.traverseDataPoints(X(e.addValue,e))},addValue:function(e,t,n,i,o){var a,r=this,s=e.value,l=r.categoryPoints[n],c=r.seriesPoints[o];l||(r.categoryPoints[n]=l=[]),c||(r.seriesPoints[o]=c=[]),r.updateRange(s,n,i),a=r.createPoint(e,t,n,i,o),a&&(a.category=t,a.series=i,a.seriesIx=o,a.owner=r,a.dataItem=i.data[n]),r.points.push(a),c.push(a),l.push(a)},updateRange:function(e,t,n){var i=this,o=n.axis,a=i.valueAxisRanges[o];wt(e)&&!isNaN(e)&&(a=i.valueAxisRanges[o]=a||{min:bn,max:An},a.min=Y.min(a.min,e),a.max=Y.max(a.max,e))},seriesValueAxis:function(e){var t=this.plotArea,n=e.axis,i=n?t.namedValueAxes[n]:t.valueAxis;if(!i)throw Error("Unable to locate value axis with name "+n);return i},reflow:function(e){var t,n,i,o=this,a=o.options,r=a.invertAxes,s=0,l=o.categorySlots=[],c=o.points,h=o.categoryAxis;o.traverseDataPoints(function(e,a,u,d){var p=e.value;t=o.seriesValueAxis(d),n=o.categoryAxisCrossingValue(t),i=c[s++],i&&i.plotValue&&(p=i.plotValue);var g=o.categorySlot(h,u,t),f=o.valueSlot(t,p,n),x=r?f:g,v=r?g:f,m=new at(x.x1,v.y1,x.x2,v.y2),y=t.options.reverse?n>p:p>=n;i&&(i.options.aboveAxis=y,i.reflow(m)),l[u]||(l[u]=g)}),o.reflowCategories(l),o.box=e},categoryAxisCrossingValue:function(e){var t=this.categoryAxis,n=e.options,i=[].concat(n.axisCrossingValues||n.axisCrossingValue);return i[t.axisIndex||0]||0},reflowCategories:function(){},valueSlot:function(e,t,n){return e.getSlot(t,n)},categorySlot:function(e,t){return e.getSlot(t)},traverseDataPoints:function(e){var t,n,i,o,a,r=this,s=r.options,l=s.series,c=r.categoryAxis.options.categories||[],h=p(l),u=r.bindableFields(),d=l.length;for(t=0;h>t;t++)for(n=0;d>n;n++)o=c[t],a=l[n],i=P(a,t,u),e(i,o,t,a,n)},bindableFields:function(){return[]},formatPointValue:function(e,t){return yt(t,e.value)}}),Ei=Ri.extend({init:function(e,t){var n=this;n._groupTotals={},n._groups=[],Ri.fn.init.call(n,e,t)},render:function(){var e=this;Ri.fn.render.apply(e),e.computeAxisRanges()},createPoint:function(e,n,i,o){var a,r,s=this,l=e.value,c=s.options,h=s.children,u=s.options.isStacked,d=Z({},o.labels);if(u&&d.position==Vn&&(d.position=xn),a=new Bi(l,Z({},{vertical:!c.invertAxes,overlay:o.overlay,labels:d,isStacked:u},o,{color:e.fields.color||t})),r=h[i],r||(r=new Ii({vertical:c.invertAxes,gap:c.gap,spacing:c.spacing}),s.append(r)),u){var p,g,f=s.getStackWrap(o,r);0===f.children.length?(p=new Di({vertical:!c.invertAxes}),g=new Di({vertical:!c.invertAxes,isReversed:!0}),f.append(p,g)):(p=f.children[0],g=f.children[1]),l>0?p.append(a):g.append(a)}else r.append(a);return a},getStackWrap:function(e,t){var n,i,o=t.children,a=e.stack,r=o.length;if(typeof a===jn){for(i=0;r>i;i++)if(o[i]._stackGroup===a){n=o[i];break}}else n=o[0];return n||(n=new st,n._stackGroup=a,t.append(n)),n},updateRange:function(e,t,n){var i=this,o=i.options.isStacked,a=i.groupTotals(n.stack),r=a.positive,s=a.negative;wt(e)&&(o?d(e>0?r:s,t,e):Ri.fn.updateRange.apply(i,arguments))},computeAxisRanges:function(){var e,t,n=this,a=n.options.isStacked;a&&(e=n.options.series[0].axis,t=n.categoryTotals(),n.valueAxisRanges[e]={min:i(t.negative.concat(0)),max:o(t.positive.concat(0))})},seriesValueAxis:function(e){var t=this,n=t.options;return Ri.fn.seriesValueAxis.call(t,n.isStacked?t.options.series[0]:e)},valueSlot:function(e,t,n){return e.getSlot(t,this.options.isStacked?0:n)},categorySlot:function(e,t,n){var i,o,a=this,r=a.options,s=e.getSlot(t);return r.isStacked&&(o=n.getSlot(0,0),i=r.invertAxes?ui:di,s[i+1]=s[i+2]=o[i+1]),s},reflow:function(e){var t=this;t.setStacksDirection(),Ri.fn.reflow.call(t,e)},setStacksDirection:function(){var e,t,n,i,o=this,a=o.options,r=a.series,s=p(r),l=o.children,c=r.length;for(t=0;c>t;t++)for(n=r[t],i=o.seriesValueAxis(n),e=0;s>e;e++){var h=l[e],u=o.getStackWrap(n,h),d=u.children,g=d[0],f=d[1];g&&f&&(g.options.isReversed=i.options.reverse,f.options.isReversed=!i.options.reverse)}},reflowCategories:function(e){var t,n=this,i=n.children,o=i.length;for(t=0;o>t;t++)i[t].reflow(e[t])},groupTotals:function(e){var t=this,n=typeof e===jn?e:"default",i=t._groupTotals[n];return i||(i=t._groupTotals[n]={positive:[],negative:[]},t._groups.push(n)),i
},categoryTotals:function(){var e,t,n,i=this,o=i._groups,a=i._groupTotals,r={positive:[],negative:[]},s=o.length;for(n=0;s>n;n++)e=o[n],t=a[e],mt(r.positive,t.positive),mt(r.negative,t.negative);return r},bindableFields:function(){return["color"]}}),Li=rt.extend({init:function(e){var t=this;rt.fn.init.call(t,e)},options:{type:Wt,align:Ft,vAlign:Ft},getViewElements:function(e,t){var n,i,o=this,a=o.options,r=a.type,s=o.paddingBox,l=s.width()/2;return a.visible&&o.hasBox()?(i=Z(o.elementStyle(),t),n=r===ai?e.createPolyline([new ut(s.x1+l,s.y1),new ut(s.x1,s.y2),new ut(s.x2,s.y2)],!0,i):r===Wt?e.createCircle(new ut(Ct(s.x1+l,qt),Ct(s.y1+s.height()/2,qt)),l,i):e.createRect(s,i),[n]):[]}}),zi=st.extend({init:function(e,t){var n=this;st.fn.init.call(n,t),n.value=e,n.options.id=St(),n.enableDiscovery()},options:{aboveAxis:!0,vertical:!0,markers:{visible:!0,background:hi,size:wn,type:Wt,border:{width:2},opacity:1},labels:{visible:!1,position:It,margin:bt(3),padding:bt(4),animation:{type:un,delay:gn}}},render:function(){var e=this,t=e.options,n=t.markers,i=t.labels,o=n.background,a=Z({},n.border),r=e.value;if(!e._rendered&&(e._rendered=!0,wt(a.color)||(a.color=new lt(o).brightness(Lt).toHex()),e.marker=new Li({id:e.options.id,visible:n.visible&&n.size,type:n.type,width:n.size,height:n.size,background:o,border:a,opacity:n.opacity,zIndex:n.zIndex,animation:n.animation}),e.append(e.marker),i.visible)){if(i.template){var s=J(i.template);r=s({dataItem:e.dataItem,category:e.category,value:e.value,series:e.series})}else i.format&&(r=e.formatValue(i.format));e.label=new ft(r,Z({id:St(),align:Ft,vAlign:Ft,margin:{left:5,right:5}},i)),e.append(e.label)}},markerBox:function(){return this.marker.box},reflow:function(e){var t,n=this,i=n.options,o=i.vertical,a=i.aboveAxis;n.render(),n.box=e,t=e.clone(),o?a?t.y1-=t.height():t.y2+=t.height():a?t.x1+=t.width():t.x2-=t.width(),n.marker.reflow(t),n.reflowLabel(t)},reflowLabel:function(e){var t=this,n=t.options,i=t.marker,o=t.label,a=n.labels.position;o&&(a=a===It?ei:a,a=a===zt?Ut:a,o.reflow(e),o.box.alignTo(i.box,a),o.reflow(o.box))},highlightOverlay:function(e,t){var n=this,i=n.marker;return t=Z({data:{modelId:n.options.modelId}},t),i.getViewElements(e,Z(t,{fill:i.options.border.color,fillOpacity:1,strokeOpacity:0}))[0]},tooltipAnchor:function(e,t){var n=this,i=n.marker.box,o=n.options.aboveAxis;return new ut(i.x2+ni,o?i.y1-t:i.y2)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}});Z(zi.fn,Vi);var Oi=zi.extend({init:function(e,t){var n=this;zi.fn.init.call(n,e,t),n.category=e.category},options:{labels:{position:Ft},highlight:{opacity:1,border:{width:1,opacity:1}}},highlightOverlay:function(e){var t=this,n=t.options,i=n.highlight,o=i.border.width,a=n.markers,r=t.box.center(),s=a.size/2-o/2,l=i.border.color||new lt(a.background).brightness(Lt).toHex();return e.createCircle(r,s,{data:{modelId:t.options.modelId},stroke:l,strokeWidth:o,strokeOpacity:i.border.opacity})},toggleHighlight:function(e){var n=this,i=n.options.highlight.opacity;n.highlighted=!n.highlighted;var o=n.marker.getViewElements(e,{fillOpacity:n.highlighted?i:t})[0];o.refresh(j.getElementById(this.options.id))}}),Ui=st.extend({init:function(e,t,n){var i=this;st.fn.init.call(i),i.linePoints=e,i.series=t,i.seriesIx=n,i.options.id=St(),i.enableDiscovery()},options:{},points:function(e){var t,n,i=this,o=i.linePoints.concat(e||[]),a=[],r=o.length;for(t=0;r>t;t++)n=o[t].markerBox().center(),a.push(new ut(n.x,n.y));return a},getViewElements:function(e){var t=this,n=t.series;return st.fn.getViewElements.call(t,e),[e.createPolyline(t.points(),!1,{id:t.options.id,stroke:n.color,strokeWidth:n.width,strokeOpacity:n.opacity,fill:"",dashType:n.dashType,data:{modelId:t.options.modelId},zIndex:-1})]},aliasFor:function(e,t){var n=this,i=n.seriesIx;return n.parent.getNearestPoint(t.x,t.y,i)}}),Hi={renderSegments:function(){var e,t,n,i,o,a,r,s=this,l=s.options,c=l.series,h=s.seriesPoints,u=h.length,d=[];for(t=0;u>t;t++){for(n=h[t],r=n.length,e=c[t],i=[],a=0;r>a;a++)o=n[a],o?i.push(o):s.seriesMissingValues(e)!==vn&&(i.length>1&&d.push(s.createSegment(i,e,t,_t(d))),i=[]);i.length>1&&d.push(s.createSegment(i,e,t,_t(d)))}s._segments=d,s.append.apply(s,d)},seriesMissingValues:function(e){var t=e.missingValues,n=!t&&this.options.isStacked;return n?gi:t},createSegment:function(e,t,n){return new Ui(e,t,n)},getNearestPoint:function(e,t,n){var i,o,a,r,s,l=this,c=l.options.invertAxes,h=c?di:ui,u=c?t:e,d=l.seriesPoints[n],p=bn,g=d.length;for(s=0;g>s;s++)i=d[s],i&&wt(i.value)&&null!==i.value&&(o=i.box,a=Y.abs(o.center()[h]-u),p>a&&(r=i,p=a));return r}},Mi=Ri.extend({init:function(e,t){var n=this;n._stackAxisRange={min:bn,max:An},n._categoryTotals=[],n.enableDiscovery(),Ri.fn.init.call(n,e,t)},render:function(){var e=this;Ri.fn.render.apply(e),e.computeAxisRanges(),e.renderSegments()},createPoint:function(e,t,n,i){var o,a=this,r=e.value,s=a.options,l=s.isStacked,c=a.categoryPoints[n],h=a.seriesMissingValues(i),u=0,d=e.fields;if(!wt(r)||null===r){if(h!==gi)return null;r=0}var p=new zi(r,Z({vertical:!s.invertAxes,markers:{border:{color:i.color}}},i,{color:d.color,markers:{border:{color:d.color}}}));return l&&(o=L(c),o&&(u=o.plotValue),p.plotValue=r+u),a.append(p),p},updateRange:function(e,t){var n,i=this,o=i.options.isStacked,r=i._stackAxisRange,s=i._categoryTotals;wt(e)&&(o?(d(s,t,e),n=a(s),r.min=Y.min(r.min,n.min),r.max=Y.max(r.max,n.max)):Ri.fn.updateRange.apply(i,arguments))},computeAxisRanges:function(){var e,t=this,n=t.options.isStacked;n&&(e=t.options.series[0].axis,t.valueAxisRanges[e]=t._stackAxisRange)},getViewElements:function(e){var t=this,n=Ri.fn.getViewElements.call(t,e),i=e.createGroup({animation:{type:jt}});return i.children=n,[i]},bindableFields:function(){return["color"]}});Z(Mi.fn,Hi);var Ni=Ui.extend({init:function(e,t,n,i){var o=this;o.stackPoints=t,Ui.fn.init.call(o,e,n,i)},points:function(){var e,t,n=this,i=n.parent,o=i.options.isStacked&&n.seriesIx>0,a=i.plotArea,r=i.options.invertAxes,s=i.seriesValueAxis(n.series),l=s.lineBox(),c=a.seriesCategoryAxis(n.series),h=c.lineBox(),u=r?h.x1:h.y1,d=n.stackPoints,p=Ui.fn.points.call(n,d);return u=r?V(u,l.x1,l.x2):V(u,l.y1,l.y2),!o&&p.length>1&&(e=p[0],t=_t(p),r?(p.unshift(new ut(u,e.y)),p.push(new ut(u,t.y))):(p.unshift(new ut(e.x,u)),p.push(new ut(t.x,u)))),p},getViewElements:function(e){var t=this,n=t.series,i=Z({color:n.color,opacity:n.opacity},n.line),o=Ui.fn.points.call(t),a=t.points();return st.fn.getViewElements.call(t,e),[e.createPolyline(a,!1,{id:t.options.id,fillOpacity:n.opacity,fill:n.color,stack:n.stack,data:{modelId:t.options.modelId},zIndex:-1}),e.createPolyline(o,!1,{id:t.options.id,stroke:i.color,strokeWidth:i.width,strokeOpacity:i.opacity,dashType:i.dashType,data:{modelId:t.options.modelId},strokeLineCap:"butt",zIndex:-1})]}}),Fi=Mi.extend({createSegment:function(e,t,n,i){var o,a=this,r=a.options;return r.isStacked&&n>0&&i&&(o=i.linePoints.slice(0).reverse()),new Ni(e,o,t,n)},seriesMissingValues:function(e){return e.missingValues||gi}}),Yi=st.extend({init:function(e,t){var n=this;st.fn.init.call(n,t),n.plotArea=e,n.xAxisRanges={},n.yAxisRanges={},n.points=[],n.seriesPoints=[],n.render()},options:{series:[],tooltip:{format:"{0}, {1}"},labels:{format:"{0}, {1}"}},render:function(){var e=this;e.traverseDataPoints(X(e.addValue,e))},addValue:function(e,t){var n,i=this,o=e.x,a=e.y,r=t.seriesIx,s=i.seriesPoints[r];i.updateRange(e,t.series),wt(o)&&null!==o&&wt(a)&&null!==a&&(n=i.createPoint(e,t.series,r,t),n&&W(n,t)),i.points.push(n),s.push(n)},updateRange:function(e,t){var n=this,i=e.x,o=e.y,a=t.xAxis,r=t.yAxis,s=n.xAxisRanges[a],l=n.yAxisRanges[r];wt(i)&&null!==i&&(s=n.xAxisRanges[a]=s||{min:bn,max:An},s.min=Y.min(s.min,i),s.max=Y.max(s.max,i)),wt(o)&&null!==o&&(l=n.yAxisRanges[r]=l||{min:bn,max:An},l.min=Y.min(l.min,o),l.max=Y.max(l.max,o))},createPoint:function(e,t,n,i){var o,a=this;return o=new zi(e,Z({markers:{border:{color:t.color},opacity:t.opacity},tooltip:{format:a.options.tooltip.format},labels:{format:a.options.labels.format}},t,{color:i.color,markers:{border:{color:i.color}}})),a.append(o),o},seriesAxes:function(e){var t=this.plotArea,n=e.xAxis,i=n?t.namedXAxes[n]:t.axisX,o=e.yAxis,a=o?t.namedYAxes[o]:t.axisY;if(!i)throw Error("Unable to locate X axis with name "+n);if(!a)throw Error("Unable to locate Y axis with name "+o);return{x:i,y:a}},reflow:function(e){var t,n,i=this,o=i.points,a=0;i.traverseDataPoints(function(e,r){t=o[a++],n=i.seriesAxes(r.series);var s=n.x.getSlot(e.x,e.x),l=n.y.getSlot(e.y,e.y),c=new at(s.x1,l.y1,s.x2,l.y2);t&&t.reflow(c)}),i.box=e},getViewElements:function(e){var t=this,n=st.fn.getViewElements.call(t,e),i=e.createGroup({animation:{type:jt}});return i.children=n,[i]},traverseDataPoints:function(e){var t,n,i,o,a,r,s,l=this,c=l.options,h=c.series,u=l.seriesPoints,d=l.bindableFields();for(n=0;h.length>n;n++)for(i=h[n],o=u[n],o||(u[n]=[]),t=0;i.data.length>t;t++)a=P(i,t,d),r=a.value,s=a.fields,e(r,Z({pointIx:t,series:i,seriesIx:n,dataItem:i.data[t],owner:l},s))},bindableFields:function(){return["color"]},formatPointValue:function(e,t){var n=e.value;return yt(t,n.x,n.y)}}),Wi=Yi.extend({render:function(){var e=this;Yi.fn.render.call(e),e.renderSegments()}});Z(Wi.fn,Hi);var Xi=Yi.extend({options:{tooltip:{format:"{3}"},labels:{format:"{3}"}},addValue:function(e,t){var n,i=this,o=t.series,a=o.negativeValues,r=i.plotArea.options.seriesColors||[],s=!0;n=t.color||o.color||r[t.pointIx%r.length],0>e.size&&(n=a.color||n,s=a.visible),t.color=n,s&&Yi.fn.addValue.call(this,e,t)},reflow:function(e){var t=this;t.updateBubblesSize(e),Yi.fn.reflow.call(t,e)},createPoint:function(e,t,n,i){var o,a=this,r=t.data.length,s=i.pointIx*(gn/r),l={delay:s,duration:gn-s,type:Ht};return o=new Oi(e,Z({tooltip:{format:a.options.tooltip.format},labels:{format:a.options.labels.format,animation:l}},t,{color:i.color,markers:{type:Wt,background:i.color,border:t.border,opacity:t.opacity,animation:l}})),a.append(o),o},updateBubblesSize:function(e){var t,n,i=this,o=i.options,a=o.series,r=Y.min(e.width(),e.height());for(t=0;a.length>t;t++){var s=a[t],l=i.seriesPoints[t],c=i.maxSize(l),h=s.minSize||Y.max(.02*r,10),u=s.maxSize||.2*r,d=h/2,p=u/2,g=Y.PI*d*d,f=Y.PI*p*p,x=f-g,v=x/c;for(n=0;l.length>n;n++){var m=l[n],y=Y.abs(m.value.size)*v,w=Y.sqrt((g+y)/Y.PI);Z(m.options,{markers:{size:2*w,zIndex:p-w},labels:{zIndex:p-w+1}})}}},maxSize:function(e){var t,n,i=e.length,o=0;for(t=0;i>t;t++)n=e[t].value.size,o=Y.max(o,Y.abs(n));return o},bindableFields:function(){return["color","category","visibleInLegend"]},getViewElements:function(e){var t=this,n=st.fn.getViewElements.call(t,e),i=e.createGroup();return i.children=n,[i]},formatPointValue:function(e,t){var n=e.value;return yt(t,n.x,n.y,n.size,e.category)}}),ji=st.extend({init:function(e,t){var n=this;st.fn.init.call(n,t),n.value=e,n.options.id=St(),n.enableDiscovery()},options:{border:{_brightness:.8},line:{width:2},overlay:{gradient:dn},tooltip:{format:"<table style='text-align: left;'><th colspan='2'>{4:d}</th><tr><td>Open:</td><td>{0:C}</td></tr><tr><td>High:</td><td>{1:C}</td></tr><tr><td>Low:</td><td>{2:C}</td></tr><tr><td>Close:</td><td>{3:C}</td></tr></table>"},highlight:{opacity:1,border:{width:1,opacity:1},line:{width:1,opacity:1}}},reflow:function(e){var t,n,i,o=this,a=o.options,r=o.owner,s=o.value,l=r.seriesValueAxis(a),c=[];n=l.getSlot(s.open,s.close),i=l.getSlot(s.low,s.high),n.x1=i.x1=e.x1,n.x2=i.x2=e.x2,o.realBody=n,t=i.center().x,c.push([new ut(t,i.y1),new ut(t,n.y1)]),c.push([new ut(t,n.y2),new ut(t,i.y2)]),o.lowHighLinePoints=c,o.box=i.clone().wrap(n)},getViewElements:function(e){var t=this,n=t.options,i=[],o=n.border.width>0?{stroke:t.getBorderColor(),strokeWidth:n.border.width,dashType:n.border.dashType,strokeOpacity:wt(n.border.opacity)?n.border.opacity:n.opacity}:{},a=Z({id:n.id,fill:t.color,fillOpacity:n.opacity},o),r={id:n.id,strokeOpacity:wt(n.line.opacity)?n.line.opacity:n.opacity,strokeWidth:n.line.width,stroke:n.line.color||t.color,dashType:n.line.dashType,strokeLineCap:"butt"},s=e.createGroup({animation:{type:jt}});return n.overlay&&(a.overlay=Z({rotation:0},n.overlay)),i.push(e.createRect(t.realBody,a)),i.push(e.createPolyline(t.lowHighLinePoints[0],!1,r)),i.push(e.createPolyline(t.lowHighLinePoints[1],!1,r)),i.push(t.createOverlayRect(e,n)),mt(i,st.fn.getViewElements.call(t,e)),s.children=i,[s]},getBorderColor:function(){var e=this,t=e.options,n=e.color,i=t.border,o=i.color;return wt(o)||(o=new lt(n).brightness(i._brightness).toHex()),o},createOverlayRect:function(e,t){return e.createRect(this.box,{id:t.id,data:{modelId:t.modelId},fill:"#fff",fillOpacity:0})},highlightOverlay:function(e,t){var n=this,i=n.options,o=i.highlight,a=o.border,r=n.getBorderColor(),s=o.line,l={data:{modelId:i.modelId}},c=Z({},l,t,{stroke:r,strokeOpacity:a.opacity,strokeWidth:a.width}),h=Z({},l,{stroke:s.color||r,strokeWidth:s.width,strokeOpacity:s.opacity,strokeLineCap:"butt"}),u=e.createGroup();return u.children.push(e.createRect(n.realBody,c)),u.children.push(e.createPolyline(n.lowHighLinePoints[0],!1,h)),u.children.push(e.createPolyline(n.lowHighLinePoints[1],!1,h)),u},tooltipAnchor:function(){var e=this,t=e.box;return new ut(t.x2+ni,t.y1+ni)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}});Z(ji.fn,Vi);var Gi=Ri.extend({options:{},bindableFields:function(){return["color","downColor"]},reflowCategories:function(e){var t,n=this,i=n.children,o=i.length;for(t=0;o>t;t++)i[t].reflow(e[t])},addValue:function(e,t,n,i,o){var a,r,s=this,l=s.options,c=e.value,h=s.children,u=e.fields.color||i.color,d=this.splitValue(c),p=U(d);p&&(a=s.createPoint(c,i)),r=h[n],r||(r=new Ii({vertical:l.invertAxes,gap:l.gap,spacing:l.spacing}),s.append(r)),a&&(s.updateRange(c,n,i),r.append(a),i.type==Mt&&c.open>c.close&&(u=e.fields.downColor||i.downColor),a.color=u,a.categoryIx=n,a.category=t,a.series=i,a.seriesIx=o,a.owner=s,a.dataItem=i.data[n]),s.points.push(a)},createPoint:function(e,t){return new ji(e,t)},splitValue:function(e){return[e.low,e.open,e.close,e.high]},updateRange:function(e,t,n){var i=this,o=n.axis,a=i.valueAxisRanges[o],r=i.splitValue(e);a=i.valueAxisRanges[o]=a||{min:bn,max:An},a=i.valueAxisRanges[o]={min:Y.min.apply(Y,r.concat([a.min])),max:Y.max.apply(Y,r.concat([a.max]))}},formatPointValue:function(e,t){var n=e.value;return yt(t,n.open,n.high,n.low,n.close,e.category)}}),qi=ji.extend({reflow:function(e){var t,n,i,o,a=this,r=a.options,s=a.owner,l=a.value,c=s.seriesValueAxis(r),h=[],u=[],d=[];o=c.getSlot(l.low,l.high),n=c.getSlot(l.open,l.open),i=c.getSlot(l.close,l.close),n.x1=i.x1=o.x1=e.x1,n.x2=i.x2=o.x2=e.x2,t=o.center().x,h.push(new ut(n.x1,n.y1)),h.push(new ut(t,n.y1)),u.push(new ut(t,i.y1)),u.push(new ut(i.x2,i.y1)),d.push(new ut(t,o.y1)),d.push(new ut(t,o.y2)),a.oPoints=h,a.cPoints=u,a.lhPoints=d,a.box=o.clone().wrap(n.clone().wrap(i))},getViewElements:function(e){var t=this,n=t.options,i=[],o={id:n.id,strokeOpacity:n.opacity,zIndex:-1,strokeWidth:n.width,stroke:t.color,dashType:n.dashType},a=e.createGroup({animation:{type:jt}});return i.push(t.createOverlayRect(e,n)),i.push(e.createPolyline(t.oPoints,!0,o)),i.push(e.createPolyline(t.cPoints,!0,o)),i.push(e.createPolyline(t.lhPoints,!0,o)),mt(i,st.fn.getViewElements.call(t,e)),a.children=i,[a]},highlightOverlay:function(e){var t=this,n=t.options,i=n.highlight,o={data:{modelId:n.modelId}},a=Z(o,{strokeWidth:i.line.width,strokeOpacity:i.line.opacity,stroke:i.line.color||t.color}),r=e.createGroup();return r.children.push(e.createPolyline(t.oPoints,!0,a)),r.children.push(e.createPolyline(t.cPoints,!0,a)),r.children.push(e.createPolyline(t.lhPoints,!0,a)),r}}),Ki=Gi.extend({createPoint:function(e,t){return new qi(e,t)},bindableFields:function(){return["color"]}}),Qi=st.extend({init:function(e,t,n){var i=this;i.value=e,i.sector=t,i.enableDiscovery(),st.fn.init.call(i,n)},options:{color:hi,overlay:{gradient:On},border:{width:.5},labels:{visible:!1,distance:35,font:en,margin:bt(.5),align:Wt,zIndex:1,position:Vn},animation:{type:Rn},highlight:{visible:!0,border:{width:1}}},render:function(){var e,t=this,n=t.options,i=n.labels,o=t.value;t._rendered||(t._rendered=!0,i.template?(e=J(i.template),o=e({dataItem:t.dataItem,category:t.category,value:t.value,series:t.series,percentage:t.percentage})):i.format&&(o=yt(i.format,o)),i.visible&&o&&(t.label=new ft(o,Z({},i,{id:St(),align:Ft,vAlign:"",animation:{type:un,delay:t.animationDelay}})),t.append(t.label)))},reflow:function(e){var t=this;t.render(),t.box=e,t.reflowLabel()},reflowLabel:function(){var e,t,n,i,o=this,a=o.sector.clone(),r=o.options,s=o.label,l=r.labels,c=l.distance,h=a.middle();s&&(i=s.box.height(),n=s.box.width(),l.position==Ft?(a.r=Y.abs((a.r-i)/2)+i,e=a.point(h),s.reflow(new at(e.x,e.y-i/2,e.x,e.y))):l.position==xn?(a.r=a.r-i/2,e=a.point(h),s.reflow(new at(e.x,e.y-i/2,e.x,e.y))):(e=a.clone().expand(c).point(h),e.x>=a.c.x?(t=e.x+n,s.orientation=zn):(t=e.x-n,s.orientation=mn),s.reflow(new at(t,e.y-i,e.x,e.y))))},getViewElements:function(e){var t=this,n=t.sector,i=t.options,o=i.border||{},a=o.width>0?{stroke:o.color,strokeWidth:o.width,dashType:o.dashType}:{},r=[],s=i.overlay;return s&&(s=Z({},i.overlay,{r:n.r,ir:n.ir,cx:n.c.x,cy:n.c.y,bbox:n.getBBox()})),t.value&&r.push(t.createSegment(e,n,Z({id:i.id,fill:i.color,overlay:s,fillOpacity:i.opacity,strokeOpacity:i.opacity,animation:Z(i.animation,{delay:t.animationDelay}),data:{modelId:i.modelId},zIndex:i.zIndex,singleSegment:1===(t.options.data||[]).length},a))),mt(r,st.fn.getViewElements.call(t,e)),r},createSegment:function(e,t,n){return n.singleSegment?e.createCircle(t.c,t.r,n):e.createSector(t,n)},highlightOverlay:function(e,t){var n,i=this,o=i.options.highlight||{},a=o.border||{},r=i.options.id+Bn;return t=Z({},t,{id:r}),0!==i.value&&(n=i.createSegment(e,i.sector,Z({},t,{fill:o.color,fillOpacity:o.opacity,strokeOpacity:a.opacity,strokeWidth:a.width,stroke:a.color,data:{modelId:i.options.modelId}}))),n},tooltipAnchor:function(e,t){var n=this,i=n.sector.clone().expand(15),o=e/2,a=t/2,r=i.middle(),s=r*an,l=i.point(r),c=l.x-o,h=l.y-a,u=Y.sin(s),d=Y.cos(s);return.9>Y.abs(u)&&(c+=o*-d/Y.abs(d)),.9>Y.abs(d)&&(h+=a*-u/Y.abs(u)),new ut(c,h)},formatValue:function(e){var t=this;return t.owner.formatPointValue(t,e)}});Z(Qi.fn,Vi);var $i=st.extend({init:function(e,t){var n=this;st.fn.init.call(n,t),n.plotArea=e,n.segments=[],n.legendItems=[],n.render()},options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},render:function(){var e=this;e.traverseDataPoints(X(e.addValue,e))},traverseDataPoints:function(e){var t,n,i,o,a,r,s,l,c,h,u,d,p=this,g=p.options,f=p.plotArea.options.seriesColors||[],x=g.startAngle,v=f.length,m=g.series,y=m.length,w=St(),b=p.bindableFields();for(o=0;y>o;o++)for(t=m[o],r=t.data,h=p.pointsTotal(t),s=360/h,u=x,o!=y-1&&t.labels.position==Vn&&(t.labels.position=Ft),d=0;r.length>d;d++)n=P(t,d,b),l=n.value,i=n.fields,a=Ct(l*s,nn),c=1!=r.length&&!!i.explode,t.color=i.color||f[d%v],e(l,new pt(null,0,0,u,a),{owner:p,category:i.category||"",categoryIx:d,series:t,seriesIx:o,dataItem:r[d],percentage:l/h,explode:c,visibleInLegend:i.visibleInLegend,overlay:{id:w+o},zIndex:y-o,animationDelay:p.animationDelay(d,o,y)}),u+=a},bindableFields:function(){return["category","color","explode","visibleInLegend"]},addValue:function(e,t,n){var i,o=this;o.createLegendItem(e,n),e&&(i=new Qi(e,t,n.series),i.options.id=St(),W(i,n),o.append(i),o.segments.push(i))},createLegendItem:function(e,t){var n,i,o=this,a=(o.options.legend||{}).labels||{};t&&t.visibleInLegend!==!1&&(n=t.category||"",(a||{}).template&&(i=J(a.template),n=i({text:n,series:t.series,dataItem:t.dataItem,percentage:t.percentage,value:e})),o.legendItems.push({name:n,color:t.series.color}))},pointsTotal:function(e){var t,n=e.data,i=n.length,o=0;for(t=0;i>t;t++)o+=P(e,t).value;return o},reflow:function(e){var t,n,i,o,a,r,s,l,c=this,h=c.options,u=e.clone(),d=5,p=Y.min(u.width(),u.height()),g=p/2,f=p-.85*p,x=wt(h.padding)?h.padding:f,v=new at(u.x1,u.y1,u.x1+p,u.y1+p),m=v.center(),y=c.seriesConfigs||[],w=u.center(),b=c.segments,A=b.length,k=h.series.length,_=[],C=[];for(x=x>g-d?g-d:x,v.translate(w.x-m.x,w.y-m.y),r=g-x,l=new ut(r+v.x1+x,r+v.y1+x),s=0;A>s;s++)o=b[s],a=o.sector,a.r=r,a.c=l,n=o.seriesIx,y.length&&(t=y[n],a.ir=t.ir,a.r=t.r),n==k-1&&o.explode&&(a.c=a.clone().radius(.15*a.r).point(a.middle())),o.reflow(v),i=o.label,i&&i.options.position===Vn&&n==k-1&&(i.orientation===zn?C.push(i):_.push(i));_.length>0&&(_.sort(c.labelComparator(!0)),c.leftLabelsReflow(_)),C.length>0&&(C.sort(c.labelComparator(!1)),c.rightLabelsReflow(C)),c.box=v},leftLabelsReflow:function(e){var t=this,n=t.distanceBetweenLabels(e);t.distributeLabels(n,e)},rightLabelsReflow:function(e){var t=this,n=t.distanceBetweenLabels(e);t.distributeLabels(n,e)},distanceBetweenLabels:function(e){var t,n,i,o=this,a=o.segments,r=a[a.length-1],s=r.sector,l=e[0].box,c=e.length-1,h=[],u=s.r+r.options.labels.distance;for(n=Ct(l.y1-(s.c.y-u-l.height()-l.height()/2)),h.push(n),i=0;c>i;i++)l=e[i].box,t=e[i+1].box,n=Ct(t.y1-l.y2),h.push(n);return n=Ct(s.c.y+u-e[c].box.y2-e[c].box.height()/2),h.push(n),h},distributeLabels:function(e,t){var n,i,o,a,r=this,s=e.length;for(a=0;s>a;a++)for(i=o=a,n=-e[a];n>0&&(i>=0||s>o);)n=r._takeDistance(e,a,--i,n),n=r._takeDistance(e,a,++o,n);r.reflowLabels(e,t)},_takeDistance:function(e,t,n,i){if(e[n]>0){var o=Y.min(e[n],i);i-=o,e[n]-=o,e[t]+=o}return i},reflowLabels:function(e,t){var n,i,o,a,r=this,s=r.segments,l=s[s.length-1],c=l.sector,h=t.length,u=l.options.labels,d=u.distance,p=c.c.y-(c.r+d)-t[0].box.height();for(e[0]+=2,a=0;h>a;a++)n=t[a],p+=e[a],o=n.box,i=r.hAlignLabel(o.x2,c.clone().expand(d),p,p+o.height(),n.orientation==zn),n.orientation==zn?(u.align!==Wt&&(i=c.r+c.c.x+d),n.reflow(new at(i+o.width(),p,i,p))):(u.align!==Wt&&(i=c.c.x-c.r-d),n.reflow(new at(i-o.width(),p,i,p))),p+=o.height()},getViewElements:function(e){var t,n,i,o,a,s,l,c,h=this,u=h.options,d=u.connectors,p=h.segments,g=p.length,f=4,x=[];for(c=0;g>c;c++)if(a=p[c],n=a.sector,i=n.middle(),l=a.label,s={seriesId:a.seriesIx},l&&(o=[],l.options.position===Vn&&0!==a.value)){var v,m,y,w=l.box,b=n.c,A=n.point(i),k=new ut(w.x1,w.center().y);A=n.clone().expand(d.padding).point(i),o.push(A),l.orientation==zn?(m=new ut(w.x1-d.padding,w.center().y),y=r(b,A,k,m),k=new ut(m.x-f,m.y),y=y||k,y.x=Y.min(y.x,k.x),h.pointInCircle(y,n.c,n.r+f)||n.c.x>y.x?(v=n.c.x+n.r+f,a.options.labels.align!==Gt?k.x>v?o.push(new ut(v,A.y)):o.push(new ut(A.x+2*f,A.y)):o.push(new ut(v,A.y)),o.push(new ut(k.x,m.y))):(y.y=m.y,o.push(y))):(m=new ut(w.x2+d.padding,w.center().y),y=r(b,A,k,m),k=new ut(m.x+f,m.y),y=y||k,y.x=Y.max(y.x,k.x),h.pointInCircle(y,n.c,n.r+f)||y.x>n.c.x?(v=n.c.x-n.r-f,a.options.labels.align!==Gt?v>k.x?o.push(new ut(v,A.y)):o.push(new ut(A.x-2*f,A.y)):o.push(new ut(v,A.y)),o.push(new ut(k.x,m.y))):(y.y=m.y,o.push(y))),o.push(m),t=e.createPolyline(o,!1,{id:St(),stroke:d.color,strokeWidth:d.width,animation:{type:un,delay:a.animationDelay},data:{modelId:a.options.modelId}}),x.push(t)}return mt(x,st.fn.getViewElements.call(h,e)),x},labelComparator:function(e){return e=e?-1:1,function(t,n){return t=(t.parent.sector.middle()+270)%360,n=(n.parent.sector.middle()+270)%360,(t-n)*e}},hAlignLabel:function(e,t,n,i,o){var a=t.c.x,r=t.c.y,s=t.r,l=Y.min(Y.abs(r-n),Y.abs(r-i));return l>s?e:a+Y.sqrt(s*s-l*l)*(o?1:-1)},pointInCircle:function(e,t,n){return g(n)>g(t.x-e.x)+g(t.y-e.y)},formatPointValue:function(e,t){return yt(t,e.value)},animationDelay:function(e){return e*En}}),Ji=Qi.extend({options:{overlay:{gradient:Un},labels:{position:Ft},animation:{type:Rn}},reflowLabel:function(){var e,t,n=this,i=n.sector.clone(),o=n.options,a=n.label,r=o.labels,s=i.middle();a&&(t=a.box.height(),r.position==Ft?(i.r-=(i.r-i.ir)/2,e=i.point(s),a.reflow(new at(e.x,e.y-t/2,e.x,e.y))):Qi.fn.reflowLabel.call(n))},createSegment:function(e,t,n){return e.createRing(t,n)}});Z(Ji.fn,Vi);var Zi=$i.extend({options:{startAngle:90,connectors:{width:1,color:"#939393",padding:4}},addValue:function(e,t,n){var i,o=this;o.createLegendItem(e,n),e&&(i=new Ji(e,t,n.series),i.options.id=St(),W(i,n),o.append(i),o.segments.push(i))},reflow:function(e){var t,n,i,o,a,r,s=this,l=s.options,c=e.clone(),h=5,u=Y.min(c.width(),c.height()),d=u/2,p=u-.85*u,g=wt(l.padding)?l.padding:p,f=l.series,x=f.length,v=0,m=0,y=0,w=0;for(s.seriesConfigs=[],g=g>d-h?d-h:g,i=d-g,a=0;x>a;a++)t=f[a],0===a&&wt(t.holeSize)&&(n=t.holeSize,i-=t.holeSize),wt(t.size)?i-=t.size:v++,wt(t.margin)&&a!=x-1&&(i-=t.margin);for(wt(n)||(w=(d-g)/(x+.75),n=.75*w,i-=n),y=n,a=0;x>a;a++)t=f[a],o=wt(t.size)?t.size:i/v,y+=m,r=y+o,s.seriesConfigs.push({ir:y,r:r}),m=t.margin||0,y=r;$i.fn.reflow.call(s,e)},animationDelay:function(e,t,n){return e*sn+gn*(t+1)/(n+1)}}),eo=rt.extend({init:function(e){var t=this;rt.fn.init.call(t,e),e=t.options,e.id=St(),t.title=xt.buildTitle(e.title,t,eo.fn.options.title),t.content=new st,t.append(t.content),t.axes=[],t.charts=[]},options:{zIndex:-1,shrinkToFit:!0,title:{align:mn},visible:!0},appendAxis:function(e){var t=this;t.content.append(e),t.axes.push(e),e.pane=t},appendChart:function(e){var t=this;t.charts.push(e),t.content.append(e),e.pane=t},empty:function(){var e,t=this,n=t.parent;if(n){for(e=0;t.axes.length>e;e++)n.removeAxis(t.axes[e]);for(e=0;t.charts.length>e;e++)n.removeChart(t.charts[e])}t.axes=[],t.charts=[],t.content.disableDiscovery(),t.content.children=[]},reflow:function(e){var t=this;_t(t.children)===t.content&&t.children.pop(),rt.fn.reflow.call(t,e),t.title&&(t.contentBox.y1+=t.title.box.height())},getViewElements:function(e){var t=this,n=Ri.fn.getViewElements.call(t,e),i=e.createGroup({id:t.options.id}),o=[];return i.children=n.concat(t.renderGridLines(e),t.content.getViewElements(e)),t.view=e,t.options.visible&&(o=[i]),o},renderGridLines:function(e){var t,n,i,o,a,r,s=this,l=s.axes,c=l.concat(s.parent.axes),h=[],u=[];for(n=0;l.length>n;n++)for(o=l[n],a=o.options.vertical,t=a?h:u,i=0;c.length>i;i++)0===t.length&&(r=c[i],a!==r.options.vertical&&mt(t,o.renderGridLines(e,r,o)));return h.concat(u)},refresh:function(){var e=this,t=e.view,n=document.getElementById(e.options.id);t&&n&&n.parentNode.replaceChild(t.renderElement(e.getViewElements(t)[0]),n)}}),to=st.extend({init:function(e,t){var n=this;st.fn.init.call(n,t),n.series=e,n.charts=[],n.options.legend.items=[],n.axes=[],n.options.id=St(),n.enableDiscovery(),n.createPanes(),n.render()},options:{series:[],plotArea:{margin:{}},background:"",border:{color:Ot,width:0},legend:{}},createPanes:function(){var e,t,n=this,i=[],o=n.options.panes||[],a=Y.max(o.length,1);for(e=0;a>e;e++)t=new eo(o[e]),t.paneIndex=e,i.push(t),n.append(t);n.panes=i},findPane:function(e){var t,n,i=this,o=i.panes;for(t=0;o.length>t;t++)if(o[t].options.name===e){n=o[t];break}return n||o[0]},findPointPane:function(e){var t,n,i=this,o=i.panes;for(t=0;o.length>t;t++)if(o[t].box.containsPoint(e)){n=o[t];break}return n},appendAxis:function(e){var t=this,n=t.findPane(e.options.pane);n.appendAxis(e),t.axes.push(e),e.plotArea=t},removeAxis:function(e){var t,n,i=this,o=[];for(t=0;i.axes.length>t;t++)n=i.axes[t],e!==n&&o.push(n);i.axes=o},appendChart:function(e,t){var n=this;n.charts.push(e),n.addToLegend(e),t?t.appendChart(e):n.append(e)},removeChart:function(e){var t,n,i=this,o=[];for(t=0;i.charts.length>t;t++)n=i.charts[t],n!==e&&o.push(n);i.charts=o},addToLegend:function(e){var t,n,i,o,a=e.options.series,r=a.length,s=[],l=this.options.legend.labels||{};if(e.legendItems)s=e.legendItems;else for(t=0;r>t;t++)n=a[t],n.visibleInLegend!==!1&&(i=n.name||"",l.template&&(o=J(l.template),i=o({text:i,series:n})),s.push({name:i,color:n.color}));mt(this.options.legend.items,s)},groupAxes:function(e){var t,n,i,o,a=[],r=[];for(i=0;e.length>i;i++)for(t=e[i].axes,o=0;t.length>o;o++)n=t[o],n.options.vertical?r.push(n):a.push(n);return{x:a,y:r,any:a.concat(r)}},groupSeriesByPane:function(){var e,t,n,i=this,o=i.series,a={};for(e=0;o.length>e;e++)n=o[e],t=i.seriesPaneName(n),a[t]?a[t].push(n):a[t]=[n];return a},filterSeriesByType:function(e,t){var n,i,o=[];for(t=[].concat(t),n=0;e.length>n;n++)i=e[n],At(i.type,t)&&o.push(i);return o},reflow:function(e){var t=this,n=t.options.plotArea,i=t.panes,o=bt(n.margin);t.box=e.clone().unpad(o),t.reflowPanes(),t.reflowAxes(i),t.reflowCharts(i)},redraw:function(e){var t,n=this;for(e=[].concat(e),t=0;e.length>t;t++)e[t].empty();for(n.render(e),n.reflowAxes(n.panes),n.reflowCharts(e),t=0;e.length>t;t++)e[t].refresh()},axisCrossingValues:function(e,t){var n,i=e.options,o=[].concat(i.axisCrossingValues||i.axisCrossingValue),a=t.length-o.length,r=o[0]||0;for(n=0;a>n;n++)o.push(r);return o},alignAxisTo:function(e,t,n,i){var o=e.getSlot(n,n),a=e.options.reverse?2:1,r=t.getSlot(i,i),s=t.options.reverse?2:1,l=e.box.translate(r[ui+s]-o[ui+a],r[di+s]-o[di+a]);e.pane!==t.pane&&l.translate(0,e.pane.box.y1-t.pane.box.y1),e.reflow(l)},alignAxes:function(e,t){var n,i,o,a,r=this,s=e[0],l=t[0],c=r.axisCrossingValues(s,t),h=r.axisCrossingValues(l,e),u={},d={},p={},g={};for(a=0;t.length>a;a++)o=t[a],n=o.pane,i=n.options.id,r.alignAxisTo(o,s,h[a],c[a]),o.options._overlap||(Ct(o.lineBox().x1)===Ct(s.lineBox().x1)&&(u[i]&&o.reflow(o.box.alignTo(u[i].box,mn).translate(-o.options.margin,0)),u[i]=o),Ct(o.lineBox().x2)===Ct(s.lineBox().x2)&&(o._mirrored||(o.options.labels.mirror=!o.options.labels.mirror,o._mirrored=!0),r.alignAxisTo(o,s,h[a],c[a]),d[i]&&o.reflow(o.box.alignTo(d[i].box,zn).translate(o.options.margin,0)),d[i]=o),0!==a&&l.pane===o.pane&&o.alignTo(l));for(a=0;e.length>a;a++)o=e[a],n=o.pane,i=n.options.id,r.alignAxisTo(o,l,c[a],h[a]),o.options._overlap||(Ct(o.lineBox().y1)===Ct(l.lineBox().y1)&&(o._mirrored||(o.options.labels.mirror=!o.options.labels.mirror,o._mirrored=!0),r.alignAxisTo(o,l,c[a],h[a]),p[i]&&o.reflow(o.box.alignTo(p[i].box,ei).translate(0,-o.options.margin)),p[i]=o),Ct(o.lineBox().y2,qt)===Ct(l.lineBox().y2,qt)&&(g[i]&&o.reflow(o.box.alignTo(g[i].box,Ut).translate(0,o.options.margin)),g[i]=o),0!==a&&o.alignTo(s))},shrinkAxisWidth:function(e){var t,n,i,o=this,a=o.groupAxes(e).any,r=B(a),s=0;for(t=0;e.length>t;t++)n=e[t],n.axes.length>0&&(s=Y.max(s,r.width()-n.contentBox.width()));for(t=0;a.length>t;t++)i=a[t],i.options.vertical||i.reflow(i.box.shrink(s,0))},shrinkAxisHeight:function(e){var t,n,i,o,a,r;for(t=0;e.length>t;t++)for(n=e[t],i=n.axes,o=Y.max(0,B(i).height()-n.contentBox.height()),a=0;i.length>a;a++)r=i[a],r.options.vertical&&r.reflow(r.box.shrink(0,o))},fitAxes:function(e){var t,n,i,o,a,r,s,l,c=this,h=c.groupAxes(e).any,u=0;for(s=0;e.length>s;s++)if(a=e[s],t=a.axes,n=a.contentBox,t.length>0)for(i=B(t),u=Y.max(u,n.x1-i.x1),o=Y.max(n.y1-i.y1,n.y2-i.y2),l=0;t.length>l;l++)r=t[l],r.reflow(r.box.translate(0,o));for(s=0;h.length>s;s++)r=h[s],r.reflow(r.box.translate(u,0))},reflowAxes:function(e){var t,n=this,i=n.groupAxes(e);for(t=0;e.length>t;t++)n.reflowPaneAxes(e[t]);i.x.length>0&&i.y.length>0&&(n.alignAxes(i.x,i.y),n.shrinkAxisWidth(e),n.alignAxes(i.x,i.y),n.shrinkAxisHeight(e),n.alignAxes(i.x,i.y),n.fitAxes(e))},reflowPaneAxes:function(e){var t,n=e.axes,i=n.length;if(i>0)for(t=0;i>t;t++)n[t].reflow(e.contentBox)},reflowCharts:function(e){var t,n,i=this,o=i.charts,a=o.length,r=i.box;for(n=0;a>n;n++)t=o[n].pane,(!t||At(t,e))&&o[n].reflow(r)},reflowPanes:function(){var e,t,n,i,o,a=this,r=a.box,s=a.panes,l=s.length,c=r.height(),h=l,u=0,d=r.y1;for(e=0;l>e;e++)t=s[e],i=t.options.height,t.options.width=r.width(),t.options.height?(i.indexOf&&i.indexOf("%")&&(o=parseInt(i,10)/100,t.options.height=o*r.height()),t.reflow(r.clone()),c-=t.options.height):u++;for(e=0;l>e;e++)t=s[e],t.options.height||(t.options.height=c/u);for(e=0;l>e;e++)t=s[e],n=r.clone().move(r.x1,d),t.reflow(n),h--,d+=t.options.height},backgroundBox:function(){var e,t,n,i,o,a,r=this,s=r.axes,l=s.length;for(n=0;l>n;n++)for(o=s[n],i=0;l>i;i++)a=s[i],o.options.vertical!==a.options.vertical&&(e=o.lineBox().clone().wrap(a.lineBox()),t=t?t.wrap(e):e);return t||r.box},getViewElements:function(e){var t=this,n=t.backgroundBox(),i=t.options,o=i.plotArea,a=o.border||{},r=st.fn.getViewElements.call(t,e);
return mt(r,[e.createRect(n,{fill:o.background,fillOpacity:o.opacity,zIndex:-2,strokeWidth:.1}),e.createRect(n,{id:i.id,data:{modelId:i.modelId},stroke:a.width?a.color:"",strokeWidth:a.width,fill:hi,fillOpacity:0,zIndex:-1,dashType:a.dashType})]),r}}),no=to.extend({init:function(e,t){var n=this;n.namedCategoryAxes={},n.namedValueAxes={},n.valueAxisRangeTracker=new io,e.length>0&&(n.invertAxes=At(e[0].type,[Et,li,si])),to.fn.init.call(n,e,t)},options:{categoryAxis:{categories:[]},valueAxis:{}},render:function(e){var t=this;e=e||t.panes,t.createCategoryAxes(e),t.aggregateDateSeries(e),t.createCharts(e),t.createValueAxes(e)},removeAxis:function(e){var t=this,n=e.options.name;to.fn.removeAxis.call(t,e),e instanceof Ci?delete t.namedCategoryAxes[n]:(t.valueAxisRangeTracker.reset(n),delete t.namedValueAxes[n]),e===t.categoryAxis&&delete t.categoryAxis,e===t.valueAxis&&delete t.valueAxis},createCharts:function(e){var t,n,i,o=this,a=o.groupSeriesByPane();for(t=0;e.length>t;t++)n=e[t],i=a[n.options.name||"default"],i&&(o.createAreaChart(o.filterSeriesByType(i,[Dt,si]),n),o.createBarChart(o.filterSeriesByType(i,[Gt,Et]),n),o.createLineChart(o.filterSeriesByType(i,[yn,li]),n),o.createCandlestickChart(o.filterSeriesByType(i,Mt),n),o.createOHLCChart(o.filterSeriesByType(i,Dn),n))},aggregateDateSeries:function(e){var t,i,o,a,r,s,l,c,h,u,d,p,g,f,x,v,m=this,y=m.srcSeries||m.series,w=[];for(l=0;y.length>l;l++){if(c=y[l],h=Z({},c),t=m.seriesCategoryAxis(c),i=m.findPane(t.options.pane),At(i,e)&&R(t.options.type,$t))for(o=t.options.categories,a=t.categoryMap,u=h.data,h.data=d=[],r=0;o.length>r;r++){for(s=a[r],p=[],g=0;s.length>g;g++)f=s[g],x=P(c,f),v=x.value,wt(v)&&p.push(x.value);d[r]=p.length>1?n(p,c):u[s[0]]}w.push(h)}m.srcSeries=y,m.series=w},appendChart:function(e,t){for(var n=this,i=e.options.series,o=n.seriesCategoryAxis(i[0]),a=o.options.categories,r=Y.max(0,p(i)-a.length);r--;)a.push("");n.valueAxisRangeTracker.update(e.valueAxisRanges),to.fn.appendChart.call(n,e,t)},seriesPaneName:function(t){var n=this,i=n.options,o=t.axis,a=[].concat(i.valueAxis),r=e.grep(a,function(e){return e.name===o})[0],s=i.panes||[{}],l=(s[0]||{}).name||"default",c=(r||{}).pane||l;return c},seriesCategoryAxis:function(e){var t=this,n=e.categoryAxis,i=n?t.namedCategoryAxes[n]:t.categoryAxis;if(!i)throw Error("Unable to locate category axis with name "+n);return i},createBarChart:function(e,t){if(0!==e.length){var n=this,i=e[0],o=new Ei(n,{series:e,invertAxes:n.invertAxes,isStacked:i.stack&&e.length>1,gap:i.gap,spacing:i.spacing});n.appendChart(o,t)}},createLineChart:function(e,t){if(0!==e.length){var n=this,i=e[0],o=new Mi(n,{invertAxes:n.invertAxes,isStacked:i.stack&&e.length>1,series:e});n.appendChart(o,t)}},createAreaChart:function(e,t){if(0!==e.length){var n=this,i=e[0],o=new Fi(n,{invertAxes:n.invertAxes,isStacked:i.stack&&e.length>1,series:e});n.appendChart(o,t)}},createOHLCChart:function(e,t){if(0!==e.length){var n=this,i=e[0],o=new Ki(n,{invertAxes:n.invertAxes,gap:i.gap,series:e,spacing:i.spacing});n.appendChart(o,t)}},createCandlestickChart:function(e,t){if(0!==e.length){var n=this,i=e[0],o=new Gi(n,{invertAxes:n.invertAxes,gap:i.gap,series:e,spacing:i.spacing});n.appendChart(o,t)}},axisRequiresRounding:function(e,t){var n,i,o=this,a=o.filterSeriesByType(o.series,[Et,Gt,Dn,Mt]);for(n=0;a.length>n;n++)if(i=a[n].categoryAxis||"",i===e||!i&&0===t)return!0},createCategoryAxes:function(e){var t,n,i,o,a,r,s,l,c,h=this,u=h.invertAxes,d=[].concat(h.options.categoryAxis),p=[];for(t=0;d.length>t;t++)if(n=d[t],i=h.findPane(n.pane),At(i,e)){if(r=n.name,o=n.categories||[],s=o[0]instanceof Date,a=n.type||"",n=Z({vertical:u,axisCrossingValue:u?o.length:0},n),h.axisRequiresRounding(r,t)&&(n.justified=!1,n.roundToBaseUnit=!0),l=!a&&s||R(a,$t)?new Si(n):new Ci(n),r){if(h.namedCategoryAxes[r])throw Error("Category axis with name "+r+" is already defined");h.namedCategoryAxes[r]=l}l.axisIndex=t,p.push(l),h.appendAxis(l)}c=h.categoryAxis||p[0],h.categoryAxis=c,u?h.axisY=c:h.axisX=c},createValueAxes:function(e){var t,n,i,o,a,r,s,l=this,c=l.valueAxisRangeTracker,h=c.query(),u=[].concat(l.options.valueAxis),d=l.invertAxes,p={vertical:!d},g=[];for(s=0;u.length>s;s++)if(t=u[s],n=l.findPane(t.pane),At(n,e)){if(r=t.name,a=c.query(r),0===s&&h&&(a.min=Y.min(a.min,h.min),a.max=Y.max(a.max,h.max)),i=new ht(a.min,a.max,Z({},p,t)),r){if(l.namedValueAxes[r])throw Error("Value axis with name "+r+" is already defined");l.namedValueAxes[r]=i}g.push(i),l.appendAxis(i)}o=l.valueAxis||g[0],l.valueAxis=o,d?l.axisX=o:l.axisY=o},click:function(t,n){var i,o,a,r=this,s=t._eventCoordinates(n),l=new ut(s.x,s.y),c=r.pointPane(l),h=[],u=[];if(c){for(i=c.axes,o=0;i.length>o;o++)a=i[o],a.getValue?z(u,a.getValue(l)):z(h,a.getCategory(l));0===h.length&&z(h,r.categoryAxis.getCategory(l)),h.length>0&&u.length>0&&t.trigger(Ln,{element:e(n.target),category:D(h),value:D(u)})}},pointPane:function(e){var t,n,i=this,o=i.panes;for(n=0;o.length>n;n++)if(t=o[n],t.contentBox.containsPoint(e))return t}}),io=q.extend({init:function(){var e=this;e.axisRanges={}},update:function(e){var t,n,i,o=this,a=o.axisRanges;for(i in e)t=a[i],n=e[i],a[i]=t=t||{min:bn,max:An},t.min=Y.min(t.min,n.min),t.max=Y.max(t.max,n.max)},reset:function(e){delete this.axisRanges[e]},query:function(e){var t=this;return t.axisRanges[e]||{min:0,max:1}}}),oo=to.extend({init:function(e,t){var n=this;n.namedXAxes={},n.namedYAxes={},n.xAxisRangeTracker=new io,n.yAxisRangeTracker=new io,to.fn.init.call(n,e,t)},options:{xAxis:{},yAxis:{}},render:function(e){var t,n,i,o=this,a=o.groupSeriesByPane();for(e=e||o.panes,t=0;e.length>t;t++)n=e[t],i=a[n.options.name||"default"],i&&(o.createScatterChart(o.filterSeriesByType(i,Hn),n),o.createScatterLineChart(o.filterSeriesByType(i,Mn),n),o.createBubbleChart(o.filterSeriesByType(i,Ht),n));o.createAxes(e)},appendChart:function(e,t){var n=this;n.xAxisRangeTracker.update(e.xAxisRanges),n.yAxisRangeTracker.update(e.yAxisRanges),to.fn.appendChart.call(n,e,t)},removeAxis:function(e){var t=this,n=e.options.name;to.fn.removeAxis.call(t,e),e.options.vertical?(t.yAxisRangeTracker.reset(n),delete t.namedYAxes[n]):(t.xAxisRangeTracker.reset(n),delete t.namedXAxes[n]),e===t.axisX&&delete t.axisX,e===t.axisY&&delete t.axisY},seriesPaneName:function(t){var n=this,i=n.options,o=t.xAxis,a=[].concat(i.xAxis),r=e.grep(a,function(e){return e.name===o})[0],s=t.yAxis,l=[].concat(i.yAxis),c=e.grep(l,function(e){return e.name===s})[0],h=i.panes||[{}],u=h[0].name||"default",d=(r||{}).pane||(c||{}).pane||u;return d},createScatterChart:function(e,t){var n=this;e.length>0&&n.appendChart(new Yi(n,{series:e}),t)},createScatterLineChart:function(e,t){var n=this;e.length>0&&n.appendChart(new Wi(n,{series:e}),t)},createBubbleChart:function(e,t){var n=this;e.length>0&&n.appendChart(new Xi(n,{series:e}),t)},createXYAxis:function(e,t,n){var i,o,a,r,s,l=this,c=e.name,h=t?l.namedYAxes:l.namedXAxes,u=t?l.yAxisRangeTracker:l.xAxisRangeTracker,d=u.query(c),p=u.query(),g=Z({},e,{vertical:t}),f=l.series;for(o=0;f.length>o;o++)if(a=f[o],a[t?"yAxis":"xAxis"]==g.name){r=P(a,0).value,s=r[t?"y":"x"]instanceof Date;break}if(0===n&&p&&(d.min=Y.min(d.min,p.min),d.max=Y.max(d.max,p.max)),i=R(g.type,$t)||!g.type&&s?new Ti(d.min,d.max,g):new ht(d.min,d.max,g),c){if(h[c])throw Error((t?"Y":"X")+" axis with name "+c+" is already defined");h[c]=i}return l.appendAxis(i),i},createAxes:function(e){var t,n=this,i=n.options,o=[].concat(i.xAxis),a=[],r=[].concat(i.yAxis),s=[];M(o,function(i){t=n.findPane(this.pane),At(t,e)&&a.push(n.createXYAxis(this,!1,i))}),M(r,function(i){t=n.findPane(this.pane),At(t,e)&&s.push(n.createXYAxis(this,!0,i))}),n.axisX=n.axisX||a[0],n.axisY=n.axisY||s[0]},click:function(t,n){var i,o,a,r,s=this,l=t._eventCoordinates(n),c=new ut(l.x,l.y),h=s.axes,u=h.length,d=[],p=[];for(i=0;u>i;i++)o=h[i],r=o.options.vertical?p:d,a=o.getValue(c),null!==a&&r.push(a);d.length>0&&p.length>0&&t.trigger(Ln,{element:e(n.target),x:D(d),y:D(p)})}}),ao=to.extend({render:function(){var e=this,t=e.series;e.createPieChart(t)},createPieChart:function(e){var t=this,n=e[0],i=new $i(t,{series:e,padding:n.padding,startAngle:n.startAngle,connectors:n.connectors,legend:t.options.legend});t.appendChart(i)}}),ro=ao.extend({render:function(){var e=this,t=e.series;e.createDonutChart(t)},createDonutChart:function(e){var t=this,n=e[0],i=new Zi(t,{series:e,padding:n.padding,startAngle:n.startAngle,connectors:n.connectors,legend:t.options.legend});t.appendChart(i)}}),so=ct.extend({options:{easing:"easeOutElastic",duration:gn},setup:function(){var e,t=this.element,n=t.config;t.options.singleSegment&&(n=t),this.endRadius=n.r,e=this.startRadius=n.ir||0,n.r=e},step:function(e){var t=this,n=t.element,i=t.endRadius,o=n.config,a=t.startRadius;n.options.singleSegment&&(o=n),o.r=kt(a,i,e)}}),lo=ct.extend({options:{easing:"easeOutElastic",duration:gn},setup:function(){var e=this.element;e.endRadius=e.radius,e.radius=0},step:function(e){var t=this.element,n=t.endRadius;t.radius=kt(0,n,e)}}),co=vt(Et,ot),ho=vt(Rn,so),uo=vt(Ht,lo),po=q.extend({init:function(e,t,n){var i=this;i.options=Z({},i.options,n),i.view=e,i.viewElement=t},options:{fill:hi,fillOpacity:.2,stroke:hi,strokeWidth:1,strokeOpacity:.2},show:function(e){var t,n,i=this,o=i.view,a=i.viewElement;i.hide(),e.highlightOverlay&&(t=e.highlightOverlay(o,i.options),t&&(n=o.renderElement(t),a.appendChild(n),i.overlayElement=n,i.visible=!0)),e.toggleHighlight&&(e.toggleHighlight(o),i.point=e,i.visible=!0)},hide:function(){var e=this,t=e.overlayElement;t&&(t.parentNode&&t.parentNode.removeChild(t),delete e.overlayElement),e.point&&(e.point.toggleHighlight(e.view),delete e.point),e.visible=!1}}),go=q.extend({init:function(t,n){var i=this;i.options=Z({},i.options,n),n=i.options,i.chartElement=t,i.chartPadding={top:parseInt(t.css("paddingTop"),10),left:parseInt(t.css("paddingLeft"),10)},i.template=go.template,i.template||(i.template=go.template=Pt("<div class='"+Kt+"tooltip' "+"style='display:none; position: absolute; font: #= d.font #;"+"border: #= d.border.width #px solid;"+"opacity: #= d.opacity #; filter: alpha(opacity=#= d.opacity * 100 #);'>"+"</div>")),i.element=e(i.template(i.options)).appendTo(t)},options:{background:Ot,color:hi,border:{width:3},opacity:1,animation:{duration:ti}},show:function(e){var t=this;t.point=e,t.showTimeout=setTimeout(X(t._show,t),ii)},_show:function(){var e,t,n,i,o,a,r=this,s=r.point,l=r.element,c=r.options,h=r.chartPadding;s&&(n=""+s.value,i=Z({},r.options,s.options.tooltip),i.template?(t=J(i.template),n=t({value:s.value,category:s.category,series:s.series,dataItem:s.dataItem,percentage:s.percentage})):i.format&&(n=s.formatValue(i.format)),l.html(n),e=s.tooltipAnchor(l.outerWidth(),l.outerHeight()),o=Ct(e.y+h.top)+"px",a=Ct(e.x+h.left)+"px",r.visible||r.element.css({top:o,left:a}),r.element.css({backgroundColor:i.background,borderColor:i.border.color||s.options.color,font:i.font,color:i.color,opacity:i.opacity,borderWidth:i.border.width}).stop(!0,!0).show().animate({left:a,top:o},c.animation.duration),r.visible=!0)},hide:function(){var e=this;clearTimeout(e.showTimeout),e.visible&&(e.element.fadeOut(),e.point=null,e.visible=!1)}}),fo={max:function(e){var t=Y.max.apply(Y,e);return isNaN(t)?o(e):t},min:function(e){var t=Y.min.apply(Y,e);return isNaN(t)?i(e):t},sum:function(e){var t,n,i=e.length,o=0;for(t=0;i>t;t++)n=e[t],wt(n)&&!isNaN(n)&&(o+=n);return o},count:function(e){return e.length},avg:function(e){return fo.sum(e)/fo.count(e)}},xo=K.extend({init:function(t,n,i){var o,a,r=this,s=t.element,l=n.lineBox(),c=r.getValueAxis(n),h=c.lineBox(),u="."+Kt;K.fn.init.call(r),r.options=Z({},r.options,i),i=r.options,r.chart=t,r.chartElement=s,r.categoryAxis=n,r.valueAxis=c,r.template=xo.template,r.template||(r.template=xo.template=Pt("<div class='"+Kt+"selector' "+"style='width: #= d.width #px; height: #= d.height #px;"+" top: #= d.offset.top #px; left: #= d.offset.left #px;'>"+"<div class='"+Kt+"mask'></div>"+"<div class='"+Kt+"mask'></div>"+"<div class='"+Kt+"selection'>"+"<div class='"+Kt+"handle "+Kt+"leftHandle'><div></div></div>"+"<div class='"+Kt+"handle "+Kt+"rightHandle'><div></div></div>"+"</div></div>")),a={left:parseInt(s.css("paddingLeft"),10),right:parseInt(s.css("paddingTop"),10)},r.options=Z({},{width:l.width(),height:h.height(),padding:a,offset:{left:h.x2+a.left,top:h.y1+a.right},from:i.min,to:i.max},i),r.options.visible&&(r.wrapper=o=e(r.template(r.options)).appendTo(s),r.selection=o.find(u+"selection"),r.leftMask=o.find(u+"mask").first(),r.rightMask=o.find(u+"mask").last(),r.leftHandle=o.find(u+"leftHandle"),r.rightHandle=o.find(u+"rightHandle"),r.options.selection={border:{left:parseFloat(r.selection.css("border-left-width"),10),right:parseFloat(r.selection.css("border-right-width"),10)}},r.leftHandle.css("top",(r.selection.height()-r.leftHandle.height())/2),r.rightHandle.css("top",(r.selection.height()-r.rightHandle.height())/2),r.move(i.from,i.to),r.bind(r.events,r.options),r.wrapper[0].style.cssText=r.wrapper[0].style.cssText,G.UserEvents?r.userEvents=new G.UserEvents(r.wrapper,{global:!0,threshold:5,stopPropagation:!0,multiTouch:!0,start:X(r._start,r),move:X(r._move,r),end:X(r._end,r),tap:X(r._tap,r),gesturestart:X(r._gesturechange,r),gesturechange:X(r._gesturechange,r)}):r.leftHandle.add(r.rightHandle).removeClass(Kt+"handle"))},events:[Nn,Fn,Yn],options:{min:An,max:bn},destroy:function(){var e=this,t=e.userEvents;t&&t.destroy()},_start:function(t){var n=this,i=n.options,o=e(t.event.target);!n._state&&o&&(n.chart._unsetActivePoint(),n._state={moveTarget:o.parents(".k-handle").add(o).first(),startLocation:t.x.location,range:{from:i.from,to:i.to}},n.trigger(Nn,n._state.range)&&(n.userEvents.cancel(),n._state=null))},_move:function(e){if(this._state){var t=this,n=t._state,i=t.options,o=i.max-i.min,a=n.startLocation-e.x.location,r=n.range,s=r.to-r.from,l=n.moveTarget,c=t.wrapper.width()/o,h=Y.round(a/c);l&&(e.preventDefault(),l.is(".k-selection")?(r.from=Y.min(Y.max(i.min,i.from-h),i.max-s),r.to=Y.min(r.from+s,i.max)):l.is(".k-leftHandle")?(r.from=Y.min(Y.max(i.min,i.from-h),i.max-1),r.to=Y.max(r.from+1,r.to)):l.is(".k-rightHandle")&&(r.to=Y.min(Y.max(i.min+1,i.to-h),i.max),r.from=Y.min(r.to-1,r.from)),t.move(r.from,r.to),t.trigger(Fn,r))}},_end:function(){var e=this,t=e._state.range;delete e._state,e.set(t.from,t.to),e.trigger(Yn,t)},_gesturechange:function(e){if(this._state){var t=this,n=t.chart,i=t._state,o=t.options,a=t.categoryAxis,r=i.range,s=n._toModelCoordinates(e.touches[0].x.location).x,l=n._toModelCoordinates(e.touches[1].x.location).x,c=Y.min(s,l),h=Y.max(s,l);e.preventDefault(),i.moveTarget=null,r.from=a.getCategoryIndex(new tt.Point2D(c))||o.min,r.to=a.getCategoryIndex(new tt.Point2D(h))||o.max,t.move(r.from,r.to)}},_tap:function(e){var t,n,i=this,o=i.options,a=i.chart._eventCoordinates(e),r=i.categoryAxis,s=r.getCategoryIndex(new tt.Point2D(a.x,r.box.y1)),l=o.to-o.from,c=o.from+l/2,h=Y.round(c-s);i._state||(e.preventDefault(),i.chart._unsetActivePoint(),t=Y.min(Y.max(o.min,o.from-h),o.max-l),n=Y.min(t+l,o.max),i.set(t,n),i.trigger(Yn))},move:function(e,t){var n,i,o,a,r=this,s=r.options,l=s.offset,c=s.padding,h=s.selection.border,u=r.categoryAxis;o=u.getSlot(e),n=Ct(o.x1-l.left+c.left),r.leftMask.width(n),r.selection.css("left",n),o=u.getSlot(t),i=Ct(s.width-(o.x1-l.left+c.left)),r.rightMask.width(i),a=s.width-i,a!=s.width&&(a+=h.right),r.rightMask.css("left",a),r.selection.width(Y.max(s.width-(n+i)-h.right,0))},set:function(e,t){var n=this,i=n.options;e=V(e,i.min,i.max),t=V(t,e+1,i.max),i.visible&&n.move(e,t),i.from=e,i.to=t},expandLeft:function(e){var t=this,n=t.options;t.set(Y.min(n.from-e,n.to-1),n.to)},getValueAxis:function(e){var t,n,i=e.pane.axes,o=i.length;for(t=0;o>t;t++)if(n=i[t],n.options.vertical!==e.options.vertical)return n}});W(e.easing,{easeOutElastic:function(e,t,n,i){var o=1.70158,a=0,r=i;return 0===e?n:1===e?n+i:(a||(a=.5),Y.abs(i)>r?(r=i,o=a/4):o=a/(2*Y.PI)*Y.asin(i/r),r*Y.pow(2,-10*e)*Y.sin((1*e-o)*1.1*Y.PI/a)+i+n)}}),f.cache={},tt.ui.plugin(Ai),Z(tt,{Aggregates:fo,AreaChart:Fi,Bar:Bi,BarAnimationDecorator:co,BarChart:Ei,BarLabel:ki,BubbleAnimationDecorator:uo,BubbleChart:Xi,CandlestickChart:Gi,Candlestick:ji,CategoricalPlotArea:no,CategoryAxis:Ci,ClusterLayout:Ii,DateCategoryAxis:Si,DateValueAxis:Ti,DonutChart:Zi,DonutPlotArea:ro,DonutSegment:Ji,Highlight:po,Legend:_i,LineChart:Mi,LinePoint:zi,Pane:eo,PieAnimation:so,PieAnimationDecorator:ho,PieChart:$i,PiePlotArea:ao,PieSegment:Qi,ScatterChart:Yi,ScatterLineChart:Wi,Selection:xo,ShapeElement:Li,StackLayout:Di,Tooltip:go,OHLCChart:Ki,OHLCPoint:qi,XYPlotArea:oo,addDuration:m,axisGroupBox:B,validNumbers:U,bindPoint:P,categoriesCount:p,ceilDate:b,duration:_,floorDate:w,lteDateIndex:O,sparseArrayLimits:a,toDate:x,toTime:v})})(window.kendo.jQuery);